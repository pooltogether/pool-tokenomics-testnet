{
  "address": "0x0d32efD9e7468846b956538E120a3b97DAd9f30F",
  "abi": [
    {
      "inputs": [
        {
          "internalType": "contract IERC20",
          "name": "_token",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "_owner",
          "type": "address"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": false,
          "internalType": "contract IERC20",
          "name": "token",
          "type": "address"
        }
      ],
      "name": "Deployed",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": false,
          "internalType": "contract IGaugeReward",
          "name": "gaugeReward",
          "type": "address"
        }
      ],
      "name": "GaugeRewardSet",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "pendingOwner",
          "type": "address"
        }
      ],
      "name": "OwnershipOffered",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "previousOwner",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "newOwner",
          "type": "address"
        }
      ],
      "name": "OwnershipTransferred",
      "type": "event"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_gauge",
          "type": "address"
        }
      ],
      "name": "addGauge",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_gauge",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "_scale",
          "type": "uint256"
        }
      ],
      "name": "addGaugeWithScale",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "name": "balances",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "claimOwnership",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_gauge",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "_amount",
          "type": "uint256"
        }
      ],
      "name": "decreaseGauge",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_to",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "_amount",
          "type": "uint256"
        }
      ],
      "name": "deposit",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "gaugeReward",
      "outputs": [
        {
          "internalType": "contract IGaugeReward",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_gauge",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "_startTime",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "_endTime",
          "type": "uint256"
        }
      ],
      "name": "getAverageGaugeBetween",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_gauge",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "_startTime",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "_endTime",
          "type": "uint256"
        }
      ],
      "name": "getAverageGaugeScaleBetween",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_gauge",
          "type": "address"
        }
      ],
      "name": "getGaugeBalance",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_gauge",
          "type": "address"
        }
      ],
      "name": "getGaugeScaleBalance",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_gauge",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "_startTime",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "_endTime",
          "type": "uint256"
        }
      ],
      "name": "getScaledAverageGaugeBetween",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_gauge",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "_user",
          "type": "address"
        }
      ],
      "name": "getUserGaugeBalance",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_gauge",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "_amount",
          "type": "uint256"
        }
      ],
      "name": "increaseGauge",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_gauge",
          "type": "address"
        }
      ],
      "name": "isGauge",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "owner",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "pendingOwner",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_gauge",
          "type": "address"
        }
      ],
      "name": "removeGauge",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "renounceOwnership",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "contract IGaugeReward",
          "name": "_gaugeReward",
          "type": "address"
        }
      ],
      "name": "setGaugeReward",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_gauge",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "_scale",
          "type": "uint256"
        }
      ],
      "name": "setGaugeScale",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "token",
      "outputs": [
        {
          "internalType": "contract IERC20",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_newOwner",
          "type": "address"
        }
      ],
      "name": "transferOwnership",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "name": "userGaugeBalance",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_amount",
          "type": "uint256"
        }
      ],
      "name": "withdraw",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    }
  ],
  "transactionHash": "0xecc18784238cd4909f79d16bcd8804712bd708db1c526af46d8d55382c02d3f5",
  "receipt": {
    "to": null,
    "from": "0x3A791e828fDd420fbE16416efDF509E4b9088Dd4",
    "contractAddress": "0x0d32efD9e7468846b956538E120a3b97DAd9f30F",
    "transactionIndex": 54,
    "gasUsed": "1936780",
    "logsBloom": "0x00000400000000000000008000000000000000000000000000800000000000000000000000020000002000000000000000008000000000000000000000000000000000000000000000000000000000800001000001000000000100000000004000000000020000010000000000000800000000000000000080000000000000400000000000000000000000000000000000000000000080000000000000000000200000000000000040000000000000000000000000000000000000000000004000000000000000000001000000000000000000000000000000100040000020000000000000010000000000000000000000010000000000000000000000100000",
    "blockHash": "0xda833c5c19330366bff0bfbe2553076fdd4a411f79558b7e599511fff6859a9b",
    "transactionHash": "0xecc18784238cd4909f79d16bcd8804712bd708db1c526af46d8d55382c02d3f5",
    "logs": [
      {
        "transactionIndex": 54,
        "blockNumber": 26383813,
        "transactionHash": "0xecc18784238cd4909f79d16bcd8804712bd708db1c526af46d8d55382c02d3f5",
        "address": "0x0d32efD9e7468846b956538E120a3b97DAd9f30F",
        "topics": [
          "0x8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e0",
          "0x0000000000000000000000000000000000000000000000000000000000000000",
          "0x0000000000000000000000003a791e828fdd420fbe16416efdf509e4b9088dd4"
        ],
        "data": "0x",
        "logIndex": 120,
        "blockHash": "0xda833c5c19330366bff0bfbe2553076fdd4a411f79558b7e599511fff6859a9b"
      },
      {
        "transactionIndex": 54,
        "blockNumber": 26383813,
        "transactionHash": "0xecc18784238cd4909f79d16bcd8804712bd708db1c526af46d8d55382c02d3f5",
        "address": "0x0d32efD9e7468846b956538E120a3b97DAd9f30F",
        "topics": [
          "0xf40fcec21964ffb566044d083b4073f29f7f7929110ea19e1b3ebe375d89055e"
        ],
        "data": "0x000000000000000000000000f192eea8eb5816ff667affd3b7fbdbf4ab4bb0d3",
        "logIndex": 121,
        "blockHash": "0xda833c5c19330366bff0bfbe2553076fdd4a411f79558b7e599511fff6859a9b"
      },
      {
        "transactionIndex": 54,
        "blockNumber": 26383813,
        "transactionHash": "0xecc18784238cd4909f79d16bcd8804712bd708db1c526af46d8d55382c02d3f5",
        "address": "0x0000000000000000000000000000000000001010",
        "topics": [
          "0x4dfe1bbbcf077ddc3e01291eea2d5c70c2b422b415d95645b9adcfd678cb1d63",
          "0x0000000000000000000000000000000000000000000000000000000000001010",
          "0x0000000000000000000000003a791e828fdd420fbe16416efdf509e4b9088dd4",
          "0x000000000000000000000000be188d6641e8b680743a4815dfa0f6208038960f"
        ],
        "data": "0x0000000000000000000000000000000000000000000000000053b914ae013158000000000000000000000000000000000000000000000000651b5a6858852c920000000000000000000000000000000000000000000017544c05d15d860a45b300000000000000000000000000000000000000000000000064c7a153aa83fb3a0000000000000000000000000000000000000000000017544c598a72340b770b",
        "logIndex": 122,
        "blockHash": "0xda833c5c19330366bff0bfbe2553076fdd4a411f79558b7e599511fff6859a9b"
      }
    ],
    "blockNumber": 26383813,
    "cumulativeGasUsed": "5424482",
    "status": 1,
    "byzantium": true
  },
  "args": [
    "0xF192eEa8eb5816Ff667aFFD3b7fbdbF4AB4Bb0d3",
    "0x3A791e828fDd420fbE16416efDF509E4b9088Dd4"
  ],
  "numDeployments": 1,
  "solcInputHash": "b05209ff2ac583caae27b575ae3779ab",
  "metadata": "{\"compiler\":{\"version\":\"0.8.6+commit.11564f7e\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[{\"internalType\":\"contract IERC20\",\"name\":\"_token\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_owner\",\"type\":\"address\"}],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"contract IERC20\",\"name\":\"token\",\"type\":\"address\"}],\"name\":\"Deployed\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"contract IGaugeReward\",\"name\":\"gaugeReward\",\"type\":\"address\"}],\"name\":\"GaugeRewardSet\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"pendingOwner\",\"type\":\"address\"}],\"name\":\"OwnershipOffered\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"previousOwner\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"newOwner\",\"type\":\"address\"}],\"name\":\"OwnershipTransferred\",\"type\":\"event\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_gauge\",\"type\":\"address\"}],\"name\":\"addGauge\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_gauge\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"_scale\",\"type\":\"uint256\"}],\"name\":\"addGaugeWithScale\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"name\":\"balances\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"claimOwnership\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_gauge\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"_amount\",\"type\":\"uint256\"}],\"name\":\"decreaseGauge\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_to\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"_amount\",\"type\":\"uint256\"}],\"name\":\"deposit\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"gaugeReward\",\"outputs\":[{\"internalType\":\"contract IGaugeReward\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_gauge\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"_startTime\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"_endTime\",\"type\":\"uint256\"}],\"name\":\"getAverageGaugeBetween\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_gauge\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"_startTime\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"_endTime\",\"type\":\"uint256\"}],\"name\":\"getAverageGaugeScaleBetween\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_gauge\",\"type\":\"address\"}],\"name\":\"getGaugeBalance\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_gauge\",\"type\":\"address\"}],\"name\":\"getGaugeScaleBalance\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_gauge\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"_startTime\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"_endTime\",\"type\":\"uint256\"}],\"name\":\"getScaledAverageGaugeBetween\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_gauge\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_user\",\"type\":\"address\"}],\"name\":\"getUserGaugeBalance\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_gauge\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"_amount\",\"type\":\"uint256\"}],\"name\":\"increaseGauge\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_gauge\",\"type\":\"address\"}],\"name\":\"isGauge\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"owner\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"pendingOwner\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_gauge\",\"type\":\"address\"}],\"name\":\"removeGauge\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"renounceOwnership\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"contract IGaugeReward\",\"name\":\"_gaugeReward\",\"type\":\"address\"}],\"name\":\"setGaugeReward\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_gauge\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"_scale\",\"type\":\"uint256\"}],\"name\":\"setGaugeScale\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"token\",\"outputs\":[{\"internalType\":\"contract IERC20\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_newOwner\",\"type\":\"address\"}],\"name\":\"transferOwnership\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"name\":\"userGaugeBalance\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_amount\",\"type\":\"uint256\"}],\"name\":\"withdraw\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"}],\"devdoc\":{\"events\":{\"Deployed(address)\":{\"params\":{\"token\":\"Address of the token being staked in the gauge\"}},\"GaugeRewardSet(address)\":{\"params\":{\"gaugeReward\":\"Address of the newly set GaugeReward contract\"}}},\"kind\":\"dev\",\"methods\":{\"claimOwnership()\":{\"details\":\"This function is only callable by the `_pendingOwner`.\"},\"constructor\":{\"params\":{\"_owner\":\"Address of the contract owner\",\"_token\":\"Address of the token being staked in the gauge\"}},\"getGaugeBalance(address)\":{\"params\":{\"_gauge\":\"Address of the gauge to get balance for\"},\"returns\":{\"_0\":\"The gauge balance\"}},\"getGaugeScaleBalance(address)\":{\"params\":{\"_gauge\":\"Address of the gauge to get scale balance for\"},\"returns\":{\"_0\":\"The gauge scale balance\"}},\"getScaledAverageGaugeBetween(address,uint256,uint256)\":{\"params\":{\"_endTime\":\"End timestamp at which to get the average scaled balance\",\"_gauge\":\"Address of the gauge to get the average scaled balance for\",\"_startTime\":\"Start timestamp at which to get the average scaled balance\"},\"returns\":{\"_0\":\"The gauge scaled average balance between the two timestamps\"}},\"getUserGaugeBalance(address,address)\":{\"params\":{\"_gauge\":\"Address of the gauge to get stake balance for\",\"_user\":\"Address of the user to get stake balance for\"},\"returns\":{\"_0\":\"The user gauge balance\"}},\"pendingOwner()\":{\"returns\":{\"_0\":\"Current `_pendingOwner` address.\"}},\"renounceOwnership()\":{\"details\":\"Leaves the contract without owner. It will not be possible to call `onlyOwner` functions anymore. Can only be called by the current owner. NOTE: Renouncing ownership will leave the contract without an owner, thereby removing any functionality that is only available to the owner.\"},\"setGaugeReward(address)\":{\"params\":{\"_gaugeReward\":\"Address of the GaugeReward contract\"}},\"transferOwnership(address)\":{\"params\":{\"_newOwner\":\"Address to transfer ownership to.\"}}},\"stateVariables\":{\"balances\":{\"details\":\"user => balance\"},\"gaugeScaleTwabs\":{\"details\":\"gauge => scale voting power\"},\"gaugeTwabs\":{\"details\":\"gauge => voting power\"},\"userGaugeBalance\":{\"details\":\"user => gauge => balance\"}},\"version\":1},\"userdoc\":{\"events\":{\"Deployed(address)\":{\"notice\":\"Event emitted when the contract is deployed\"},\"GaugeRewardSet(address)\":{\"notice\":\"Event emitted when the GaugeReward contract address is set\"}},\"kind\":\"user\",\"methods\":{\"balances(address)\":{\"notice\":\"Tracks user deposit balance\"},\"claimOwnership()\":{\"notice\":\"Allows the `_pendingOwner` address to finalize the transfer.\"},\"constructor\":{\"notice\":\"GaugeController constructor\"},\"getGaugeBalance(address)\":{\"notice\":\"Get the gauge balance\"},\"getGaugeScaleBalance(address)\":{\"notice\":\"Get the gauge scale balance\"},\"getScaledAverageGaugeBetween(address,uint256,uint256)\":{\"notice\":\"Get the gauge scaled average balance between two timestamps.\"},\"getUserGaugeBalance(address,address)\":{\"notice\":\"Get the user stake balance for a given gauge\"},\"owner()\":{\"notice\":\"Returns the address of the current owner.\"},\"pendingOwner()\":{\"notice\":\"Gets current `_pendingOwner`.\"},\"renounceOwnership()\":{\"notice\":\"Renounce ownership of the contract.\"},\"setGaugeReward(address)\":{\"notice\":\"Set GaugeReward contract\"},\"transferOwnership(address)\":{\"notice\":\"Allows current owner to set the `_pendingOwner` address.\"},\"userGaugeBalance(address,address)\":{\"notice\":\"Tracks user balance per gauge\"}},\"version\":1}},\"settings\":{\"compilationTarget\":{\"contracts/GaugeController.sol\":\"GaugeController\"},\"evmVersion\":\"berlin\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\",\"useLiteralContent\":true},\"optimizer\":{\"enabled\":true,\"runs\":2000},\"remappings\":[]},\"sources\":{\"@openzeppelin/contracts/token/ERC20/IERC20.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n\\npragma solidity ^0.8.0;\\n\\n/**\\n * @dev Interface of the ERC20 standard as defined in the EIP.\\n */\\ninterface IERC20 {\\n    /**\\n     * @dev Returns the amount of tokens in existence.\\n     */\\n    function totalSupply() external view returns (uint256);\\n\\n    /**\\n     * @dev Returns the amount of tokens owned by `account`.\\n     */\\n    function balanceOf(address account) external view returns (uint256);\\n\\n    /**\\n     * @dev Moves `amount` tokens from the caller's account to `recipient`.\\n     *\\n     * Returns a boolean value indicating whether the operation succeeded.\\n     *\\n     * Emits a {Transfer} event.\\n     */\\n    function transfer(address recipient, uint256 amount) external returns (bool);\\n\\n    /**\\n     * @dev Returns the remaining number of tokens that `spender` will be\\n     * allowed to spend on behalf of `owner` through {transferFrom}. This is\\n     * zero by default.\\n     *\\n     * This value changes when {approve} or {transferFrom} are called.\\n     */\\n    function allowance(address owner, address spender) external view returns (uint256);\\n\\n    /**\\n     * @dev Sets `amount` as the allowance of `spender` over the caller's tokens.\\n     *\\n     * Returns a boolean value indicating whether the operation succeeded.\\n     *\\n     * IMPORTANT: Beware that changing an allowance with this method brings the risk\\n     * that someone may use both the old and the new allowance by unfortunate\\n     * transaction ordering. One possible solution to mitigate this race\\n     * condition is to first reduce the spender's allowance to 0 and set the\\n     * desired value afterwards:\\n     * https://github.com/ethereum/EIPs/issues/20#issuecomment-263524729\\n     *\\n     * Emits an {Approval} event.\\n     */\\n    function approve(address spender, uint256 amount) external returns (bool);\\n\\n    /**\\n     * @dev Moves `amount` tokens from `sender` to `recipient` using the\\n     * allowance mechanism. `amount` is then deducted from the caller's\\n     * allowance.\\n     *\\n     * Returns a boolean value indicating whether the operation succeeded.\\n     *\\n     * Emits a {Transfer} event.\\n     */\\n    function transferFrom(\\n        address sender,\\n        address recipient,\\n        uint256 amount\\n    ) external returns (bool);\\n\\n    /**\\n     * @dev Emitted when `value` tokens are moved from one account (`from`) to\\n     * another (`to`).\\n     *\\n     * Note that `value` may be zero.\\n     */\\n    event Transfer(address indexed from, address indexed to, uint256 value);\\n\\n    /**\\n     * @dev Emitted when the allowance of a `spender` for an `owner` is set by\\n     * a call to {approve}. `value` is the new allowance.\\n     */\\n    event Approval(address indexed owner, address indexed spender, uint256 value);\\n}\\n\",\"keccak256\":\"0x027b891937d20ccf213fdb9c31531574256de774bda99d3a70ecef6e1913ed2a\",\"license\":\"MIT\"},\"@openzeppelin/contracts/utils/math/SafeCast.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n\\npragma solidity ^0.8.0;\\n\\n/**\\n * @dev Wrappers over Solidity's uintXX/intXX casting operators with added overflow\\n * checks.\\n *\\n * Downcasting from uint256/int256 in Solidity does not revert on overflow. This can\\n * easily result in undesired exploitation or bugs, since developers usually\\n * assume that overflows raise errors. `SafeCast` restores this intuition by\\n * reverting the transaction when such an operation overflows.\\n *\\n * Using this library instead of the unchecked operations eliminates an entire\\n * class of bugs, so it's recommended to use it always.\\n *\\n * Can be combined with {SafeMath} and {SignedSafeMath} to extend it to smaller types, by performing\\n * all math on `uint256` and `int256` and then downcasting.\\n */\\nlibrary SafeCast {\\n    /**\\n     * @dev Returns the downcasted uint224 from uint256, reverting on\\n     * overflow (when the input is greater than largest uint224).\\n     *\\n     * Counterpart to Solidity's `uint224` operator.\\n     *\\n     * Requirements:\\n     *\\n     * - input must fit into 224 bits\\n     */\\n    function toUint224(uint256 value) internal pure returns (uint224) {\\n        require(value <= type(uint224).max, \\\"SafeCast: value doesn't fit in 224 bits\\\");\\n        return uint224(value);\\n    }\\n\\n    /**\\n     * @dev Returns the downcasted uint128 from uint256, reverting on\\n     * overflow (when the input is greater than largest uint128).\\n     *\\n     * Counterpart to Solidity's `uint128` operator.\\n     *\\n     * Requirements:\\n     *\\n     * - input must fit into 128 bits\\n     */\\n    function toUint128(uint256 value) internal pure returns (uint128) {\\n        require(value <= type(uint128).max, \\\"SafeCast: value doesn't fit in 128 bits\\\");\\n        return uint128(value);\\n    }\\n\\n    /**\\n     * @dev Returns the downcasted uint96 from uint256, reverting on\\n     * overflow (when the input is greater than largest uint96).\\n     *\\n     * Counterpart to Solidity's `uint96` operator.\\n     *\\n     * Requirements:\\n     *\\n     * - input must fit into 96 bits\\n     */\\n    function toUint96(uint256 value) internal pure returns (uint96) {\\n        require(value <= type(uint96).max, \\\"SafeCast: value doesn't fit in 96 bits\\\");\\n        return uint96(value);\\n    }\\n\\n    /**\\n     * @dev Returns the downcasted uint64 from uint256, reverting on\\n     * overflow (when the input is greater than largest uint64).\\n     *\\n     * Counterpart to Solidity's `uint64` operator.\\n     *\\n     * Requirements:\\n     *\\n     * - input must fit into 64 bits\\n     */\\n    function toUint64(uint256 value) internal pure returns (uint64) {\\n        require(value <= type(uint64).max, \\\"SafeCast: value doesn't fit in 64 bits\\\");\\n        return uint64(value);\\n    }\\n\\n    /**\\n     * @dev Returns the downcasted uint32 from uint256, reverting on\\n     * overflow (when the input is greater than largest uint32).\\n     *\\n     * Counterpart to Solidity's `uint32` operator.\\n     *\\n     * Requirements:\\n     *\\n     * - input must fit into 32 bits\\n     */\\n    function toUint32(uint256 value) internal pure returns (uint32) {\\n        require(value <= type(uint32).max, \\\"SafeCast: value doesn't fit in 32 bits\\\");\\n        return uint32(value);\\n    }\\n\\n    /**\\n     * @dev Returns the downcasted uint16 from uint256, reverting on\\n     * overflow (when the input is greater than largest uint16).\\n     *\\n     * Counterpart to Solidity's `uint16` operator.\\n     *\\n     * Requirements:\\n     *\\n     * - input must fit into 16 bits\\n     */\\n    function toUint16(uint256 value) internal pure returns (uint16) {\\n        require(value <= type(uint16).max, \\\"SafeCast: value doesn't fit in 16 bits\\\");\\n        return uint16(value);\\n    }\\n\\n    /**\\n     * @dev Returns the downcasted uint8 from uint256, reverting on\\n     * overflow (when the input is greater than largest uint8).\\n     *\\n     * Counterpart to Solidity's `uint8` operator.\\n     *\\n     * Requirements:\\n     *\\n     * - input must fit into 8 bits.\\n     */\\n    function toUint8(uint256 value) internal pure returns (uint8) {\\n        require(value <= type(uint8).max, \\\"SafeCast: value doesn't fit in 8 bits\\\");\\n        return uint8(value);\\n    }\\n\\n    /**\\n     * @dev Converts a signed int256 into an unsigned uint256.\\n     *\\n     * Requirements:\\n     *\\n     * - input must be greater than or equal to 0.\\n     */\\n    function toUint256(int256 value) internal pure returns (uint256) {\\n        require(value >= 0, \\\"SafeCast: value must be positive\\\");\\n        return uint256(value);\\n    }\\n\\n    /**\\n     * @dev Returns the downcasted int128 from int256, reverting on\\n     * overflow (when the input is less than smallest int128 or\\n     * greater than largest int128).\\n     *\\n     * Counterpart to Solidity's `int128` operator.\\n     *\\n     * Requirements:\\n     *\\n     * - input must fit into 128 bits\\n     *\\n     * _Available since v3.1._\\n     */\\n    function toInt128(int256 value) internal pure returns (int128) {\\n        require(value >= type(int128).min && value <= type(int128).max, \\\"SafeCast: value doesn't fit in 128 bits\\\");\\n        return int128(value);\\n    }\\n\\n    /**\\n     * @dev Returns the downcasted int64 from int256, reverting on\\n     * overflow (when the input is less than smallest int64 or\\n     * greater than largest int64).\\n     *\\n     * Counterpart to Solidity's `int64` operator.\\n     *\\n     * Requirements:\\n     *\\n     * - input must fit into 64 bits\\n     *\\n     * _Available since v3.1._\\n     */\\n    function toInt64(int256 value) internal pure returns (int64) {\\n        require(value >= type(int64).min && value <= type(int64).max, \\\"SafeCast: value doesn't fit in 64 bits\\\");\\n        return int64(value);\\n    }\\n\\n    /**\\n     * @dev Returns the downcasted int32 from int256, reverting on\\n     * overflow (when the input is less than smallest int32 or\\n     * greater than largest int32).\\n     *\\n     * Counterpart to Solidity's `int32` operator.\\n     *\\n     * Requirements:\\n     *\\n     * - input must fit into 32 bits\\n     *\\n     * _Available since v3.1._\\n     */\\n    function toInt32(int256 value) internal pure returns (int32) {\\n        require(value >= type(int32).min && value <= type(int32).max, \\\"SafeCast: value doesn't fit in 32 bits\\\");\\n        return int32(value);\\n    }\\n\\n    /**\\n     * @dev Returns the downcasted int16 from int256, reverting on\\n     * overflow (when the input is less than smallest int16 or\\n     * greater than largest int16).\\n     *\\n     * Counterpart to Solidity's `int16` operator.\\n     *\\n     * Requirements:\\n     *\\n     * - input must fit into 16 bits\\n     *\\n     * _Available since v3.1._\\n     */\\n    function toInt16(int256 value) internal pure returns (int16) {\\n        require(value >= type(int16).min && value <= type(int16).max, \\\"SafeCast: value doesn't fit in 16 bits\\\");\\n        return int16(value);\\n    }\\n\\n    /**\\n     * @dev Returns the downcasted int8 from int256, reverting on\\n     * overflow (when the input is less than smallest int8 or\\n     * greater than largest int8).\\n     *\\n     * Counterpart to Solidity's `int8` operator.\\n     *\\n     * Requirements:\\n     *\\n     * - input must fit into 8 bits.\\n     *\\n     * _Available since v3.1._\\n     */\\n    function toInt8(int256 value) internal pure returns (int8) {\\n        require(value >= type(int8).min && value <= type(int8).max, \\\"SafeCast: value doesn't fit in 8 bits\\\");\\n        return int8(value);\\n    }\\n\\n    /**\\n     * @dev Converts an unsigned uint256 into a signed int256.\\n     *\\n     * Requirements:\\n     *\\n     * - input must be less than or equal to maxInt256.\\n     */\\n    function toInt256(uint256 value) internal pure returns (int256) {\\n        // Note: Unsafe cast below is okay because `type(int256).max` is guaranteed to be positive\\n        require(value <= uint256(type(int256).max), \\\"SafeCast: value doesn't fit in an int256\\\");\\n        return int256(value);\\n    }\\n}\\n\",\"keccak256\":\"0x08d867b4c0bb782b9135691fa732b6846e0f133006489c3aa505abd1f6de56cb\",\"license\":\"MIT\"},\"@pooltogether/owner-manager-contracts/contracts/Ownable.sol\":{\"content\":\"// SPDX-License-Identifier: GPL-3.0\\n\\npragma solidity ^0.8.0;\\n\\n/**\\n * @title Abstract ownable contract that can be inherited by other contracts\\n * @notice Contract module which provides a basic access control mechanism, where\\n * there is an account (an owner) that can be granted exclusive access to\\n * specific functions.\\n *\\n * By default, the owner is the deployer of the contract.\\n *\\n * The owner account is set through a two steps process.\\n *      1. The current `owner` calls {transferOwnership} to set a `pendingOwner`\\n *      2. The `pendingOwner` calls {acceptOwnership} to accept the ownership transfer\\n *\\n * The manager account needs to be set using {setManager}.\\n *\\n * This module is used through inheritance. It will make available the modifier\\n * `onlyOwner`, which can be applied to your functions to restrict their use to\\n * the owner.\\n */\\nabstract contract Ownable {\\n    address private _owner;\\n    address private _pendingOwner;\\n\\n    /**\\n     * @dev Emitted when `_pendingOwner` has been changed.\\n     * @param pendingOwner new `_pendingOwner` address.\\n     */\\n    event OwnershipOffered(address indexed pendingOwner);\\n\\n    /**\\n     * @dev Emitted when `_owner` has been changed.\\n     * @param previousOwner previous `_owner` address.\\n     * @param newOwner new `_owner` address.\\n     */\\n    event OwnershipTransferred(address indexed previousOwner, address indexed newOwner);\\n\\n    /* ============ Deploy ============ */\\n\\n    /**\\n     * @notice Initializes the contract setting `_initialOwner` as the initial owner.\\n     * @param _initialOwner Initial owner of the contract.\\n     */\\n    constructor(address _initialOwner) {\\n        _setOwner(_initialOwner);\\n    }\\n\\n    /* ============ External Functions ============ */\\n\\n    /**\\n     * @notice Returns the address of the current owner.\\n     */\\n    function owner() public view virtual returns (address) {\\n        return _owner;\\n    }\\n\\n    /**\\n     * @notice Gets current `_pendingOwner`.\\n     * @return Current `_pendingOwner` address.\\n     */\\n    function pendingOwner() external view virtual returns (address) {\\n        return _pendingOwner;\\n    }\\n\\n    /**\\n     * @notice Renounce ownership of the contract.\\n     * @dev Leaves the contract without owner. It will not be possible to call\\n     * `onlyOwner` functions anymore. Can only be called by the current owner.\\n     *\\n     * NOTE: Renouncing ownership will leave the contract without an owner,\\n     * thereby removing any functionality that is only available to the owner.\\n     */\\n    function renounceOwnership() external virtual onlyOwner {\\n        _setOwner(address(0));\\n    }\\n\\n    /**\\n    * @notice Allows current owner to set the `_pendingOwner` address.\\n    * @param _newOwner Address to transfer ownership to.\\n    */\\n    function transferOwnership(address _newOwner) external onlyOwner {\\n        require(_newOwner != address(0), \\\"Ownable/pendingOwner-not-zero-address\\\");\\n\\n        _pendingOwner = _newOwner;\\n\\n        emit OwnershipOffered(_newOwner);\\n    }\\n\\n    /**\\n    * @notice Allows the `_pendingOwner` address to finalize the transfer.\\n    * @dev This function is only callable by the `_pendingOwner`.\\n    */\\n    function claimOwnership() external onlyPendingOwner {\\n        _setOwner(_pendingOwner);\\n        _pendingOwner = address(0);\\n    }\\n\\n    /* ============ Internal Functions ============ */\\n\\n    /**\\n     * @notice Internal function to set the `_owner` of the contract.\\n     * @param _newOwner New `_owner` address.\\n     */\\n    function _setOwner(address _newOwner) private {\\n        address _oldOwner = _owner;\\n        _owner = _newOwner;\\n        emit OwnershipTransferred(_oldOwner, _newOwner);\\n    }\\n\\n    /* ============ Modifier Functions ============ */\\n\\n    /**\\n     * @dev Throws if called by any account other than the owner.\\n     */\\n    modifier onlyOwner() {\\n        require(owner() == msg.sender, \\\"Ownable/caller-not-owner\\\");\\n        _;\\n    }\\n\\n    /**\\n    * @dev Throws if called by any account other than the `pendingOwner`.\\n    */\\n    modifier onlyPendingOwner() {\\n        require(msg.sender == _pendingOwner, \\\"Ownable/caller-not-pendingOwner\\\");\\n        _;\\n    }\\n}\\n\",\"keccak256\":\"0xfd0fd374812c8af45f2633cc7cc4811ccb7bad0a3902a43aded35939eb4a00d1\",\"license\":\"GPL-3.0\"},\"contracts/GaugeController.sol\":{\"content\":\"// SPDX-License-Identifier: GPL-3.0\\n\\npragma solidity 0.8.6;\\n\\nimport \\\"@openzeppelin/contracts/token/ERC20/IERC20.sol\\\";\\nimport \\\"@pooltogether/owner-manager-contracts/contracts/Ownable.sol\\\";\\n\\nimport \\\"./interfaces/IGaugeController.sol\\\";\\nimport \\\"./interfaces/IGaugeReward.sol\\\";\\nimport \\\"./libraries/TwabLib.sol\\\";\\nimport \\\"./libraries/ExtendedSafeCastLib.sol\\\";\\n\\ncontract GaugeController is IGaugeController, Ownable {\\n    using ExtendedSafeCastLib for uint256;\\n\\n    struct GaugeInfo {\\n        uint256 weight;\\n    }\\n\\n    IERC20 public token;\\n    IGaugeReward public gaugeReward;\\n\\n    /**\\n     * @notice Tracks user deposit balance\\n     * @dev user => balance\\n     */\\n    mapping(address => uint256) public balances;\\n\\n    /**\\n     * @notice Tracks user balance per gauge\\n     * @dev user => gauge => balance\\n     */\\n    mapping(address => mapping(address => uint256)) public userGaugeBalance;\\n\\n    /**\\n     * @notice Tracks gauge total voting power\\n     * @dev gauge => voting power\\n     */\\n    mapping(address => TwabLib.Account) internal gaugeTwabs;\\n\\n    /**\\n     * @notice Tracks gauge scale total voting power\\n     * @dev gauge => scale voting power\\n     */\\n    mapping(address => TwabLib.Account) internal gaugeScaleTwabs;\\n\\n    /* ============ Events ============ */\\n\\n    /**\\n     * @notice Event emitted when the GaugeReward contract address is set\\n     * @param gaugeReward Address of the newly set GaugeReward contract\\n     */\\n    event GaugeRewardSet(IGaugeReward gaugeReward);\\n\\n    /**\\n     * @notice Event emitted when the contract is deployed\\n     * @param token Address of the token being staked in the gauge\\n     */\\n    event Deployed(IERC20 token);\\n\\n    /* ============ Constructor ============ */\\n\\n    /**\\n     * @notice GaugeController constructor\\n     * @param _token Address of the token being staked in the gauge\\n     * @param _owner Address of the contract owner\\n     */\\n    constructor(IERC20 _token, address _owner) Ownable(_owner)  {\\n        require(_owner != address(0), \\\"GC/owner-not-zero-address\\\");\\n        require(address(_token) != address(0), \\\"GC/token-not-zero-address\\\");\\n        token = _token;\\n\\n        emit Deployed(_token);\\n    }\\n\\n    /* ============ External Functions ============ */\\n\\n    function deposit(address _to, uint256 _amount) public {\\n        balances[_to] += _amount;\\n        token.transferFrom(msg.sender, address(this), _amount);\\n    }\\n\\n    function withdraw(uint256 _amount) public {\\n        balances[msg.sender] -= _amount;\\n        token.transfer(msg.sender, _amount);\\n    }\\n\\n    function increaseGauge(address _gauge, uint256 _amount) public requireGauge(_gauge) {\\n        balances[msg.sender] -= _amount;\\n        userGaugeBalance[msg.sender][_gauge] += _amount;\\n\\n        TwabLib.Account storage gaugeTwab = gaugeTwabs[_gauge];\\n        (TwabLib.AccountDetails memory twabDetails, , ) = TwabLib.increaseBalance(\\n            gaugeTwab,\\n            _amount.toUint208(),\\n            uint32(block.timestamp)\\n        );\\n\\n        gaugeTwab.details = twabDetails;\\n\\n        gaugeReward.afterIncreaseGauge(_gauge, msg.sender, uint256(twabDetails.balance) - _amount);\\n    }\\n\\n    function decreaseGauge(address _gauge, uint256 _amount) public requireGauge(_gauge) {\\n        balances[msg.sender] += _amount;\\n        userGaugeBalance[msg.sender][_gauge] -= _amount;\\n\\n        TwabLib.Account storage gaugeTwab = gaugeTwabs[_gauge];\\n        (TwabLib.AccountDetails memory twabDetails, , ) = TwabLib.decreaseBalance(\\n            gaugeTwab,\\n            _amount.toUint208(),\\n            \\\"insuff\\\",\\n            uint32(block.timestamp)\\n        );\\n\\n        gaugeTwab.details = twabDetails;\\n\\n        gaugeReward.afterDecreaseGauge(_gauge, msg.sender, uint256(twabDetails.balance) + _amount);\\n    }\\n\\n    function addGauge(address _gauge) public {\\n        _addGaugeWithScale(_gauge, 1 ether);\\n    }\\n\\n    function addGaugeWithScale(address _gauge, uint256 _scale) public {\\n        _addGaugeWithScale(_gauge, _scale);\\n    }\\n\\n    function removeGauge(address _gauge) public {\\n        TwabLib.Account storage gaugeScaleTwab = gaugeScaleTwabs[_gauge];\\n        TwabLib.AccountDetails memory twabDetails = gaugeScaleTwab.details;\\n        (twabDetails, , ) = TwabLib.decreaseBalance(\\n            gaugeScaleTwab,\\n            twabDetails.balance,\\n            \\\"insuff\\\",\\n            uint32(block.timestamp)\\n        );\\n        gaugeScaleTwab.details = twabDetails;\\n    }\\n\\n    /**\\n     * @notice Set GaugeReward contract\\n     * @param _gaugeReward Address of the GaugeReward contract\\n     */\\n    function setGaugeReward(IGaugeReward _gaugeReward) external onlyOwner {\\n        require(address(_gaugeReward) != address(0), \\\"GC/GaugeReward-not-zero-address\\\");\\n        gaugeReward = _gaugeReward;\\n\\n        emit GaugeRewardSet(_gaugeReward);\\n    }\\n\\n    function setGaugeScale(address _gauge, uint256 _scale) public {\\n        TwabLib.Account storage gaugeScaleTwab = gaugeScaleTwabs[_gauge];\\n        TwabLib.AccountDetails memory twabDetails = gaugeScaleTwab.details;\\n        if (twabDetails.balance > _scale) {\\n            (twabDetails, , ) = TwabLib.decreaseBalance(\\n                gaugeScaleTwab,\\n                twabDetails.balance - _scale.toUint208(),\\n                \\\"insuff\\\",\\n                uint32(block.timestamp)\\n            );\\n        } else {\\n            (twabDetails, , ) = TwabLib.increaseBalance(\\n                gaugeScaleTwab,\\n                _scale.toUint208() - twabDetails.balance,\\n                uint32(block.timestamp)\\n            );\\n        }\\n        gaugeScaleTwab.details = twabDetails;\\n    }\\n\\n    /// @inheritdoc IGaugeController\\n    function getGaugeBalance(address _gauge) external view override returns (uint256) {\\n        return gaugeTwabs[_gauge].details.balance;\\n    }\\n\\n    /// @inheritdoc IGaugeController\\n    function getGaugeScaleBalance(address _gauge) external view override returns (uint256) {\\n        return gaugeScaleTwabs[_gauge].details.balance;\\n    }\\n\\n    /// @inheritdoc IGaugeController\\n    function getScaledAverageGaugeBetween(\\n        address _gauge,\\n        uint256 _startTime,\\n        uint256 _endTime\\n    ) external view override returns (uint256) {\\n        uint256 gauge = _getAverageGaugeBetween(_gauge, _startTime, _endTime);\\n        uint256 gaugeScale = _getAverageGaugeScaleBetween(_gauge, _startTime, _endTime);\\n        return (gauge * gaugeScale) / 1 ether;\\n    }\\n\\n    function getAverageGaugeBetween(\\n        address _gauge,\\n        uint256 _startTime,\\n        uint256 _endTime\\n    ) external view returns (uint256) {\\n        return _getAverageGaugeBetween(_gauge, _startTime, _endTime);\\n    }\\n\\n    function getAverageGaugeScaleBetween(\\n        address _gauge,\\n        uint256 _startTime,\\n        uint256 _endTime\\n    ) external view returns (uint256) {\\n        return _getAverageGaugeScaleBetween(_gauge, _startTime, _endTime);\\n    }\\n\\n    /// @inheritdoc IGaugeController\\n    function getUserGaugeBalance(address _gauge, address _user)\\n        external\\n        view\\n        override\\n        returns (uint256)\\n    {\\n        return userGaugeBalance[_user][_gauge];\\n    }\\n\\n    /* ============ Internal Functions ============ */\\n\\n    function _addGaugeWithScale(address _gauge, uint256 _scale) internal {\\n        TwabLib.Account storage gaugeScaleTwab = gaugeScaleTwabs[_gauge];\\n        (TwabLib.AccountDetails memory twabDetails, , ) = TwabLib.increaseBalance(\\n            gaugeScaleTwab,\\n            _scale.toUint208(),\\n            uint32(block.timestamp)\\n        );\\n        gaugeScaleTwab.details = twabDetails;\\n    }\\n\\n    function _getAverageGaugeBetween(\\n        address _gauge,\\n        uint256 _startTime,\\n        uint256 _endTime\\n    ) internal view returns (uint256) {\\n        TwabLib.AccountDetails memory gaugeDetails = gaugeTwabs[_gauge].details;\\n        return\\n            TwabLib.getAverageBalanceBetween(\\n                gaugeTwabs[_gauge].twabs,\\n                gaugeDetails,\\n                uint32(_startTime),\\n                uint32(_endTime),\\n                uint32(block.timestamp)\\n            );\\n    }\\n\\n    function _getAverageGaugeScaleBetween(\\n        address _gauge,\\n        uint256 _startTime,\\n        uint256 _endTime\\n    ) internal view returns (uint256) {\\n        TwabLib.AccountDetails memory gaugeScaleDetails = gaugeScaleTwabs[_gauge].details;\\n        return\\n            TwabLib.getAverageBalanceBetween(\\n                gaugeScaleTwabs[_gauge].twabs,\\n                gaugeScaleDetails,\\n                uint32(_startTime),\\n                uint32(_endTime),\\n                uint32(block.timestamp)\\n            );\\n    }\\n\\n    function isGauge(address _gauge) public view returns (bool) {\\n        return gaugeScaleTwabs[_gauge].details.balance > 0;\\n    }\\n\\n    modifier requireGauge(address _gauge) {\\n        require(isGauge(_gauge), \\\"Gauge does not exist\\\");\\n        _;\\n    }\\n}\\n\",\"keccak256\":\"0xa58edd8ea4bfe44b10c2373ed013272d0b9a226a625ecf94dc4613cab8f44dbc\",\"license\":\"GPL-3.0\"},\"contracts/interfaces/IGaugeController.sol\":{\"content\":\"// SPDX-License-Identifier: GPL-3.0\\n\\npragma solidity 0.8.6;\\n\\ninterface IGaugeController {\\n    /**\\n     * @notice Get the gauge scaled average balance between two timestamps.\\n     * @param _gauge Address of the gauge to get the average scaled balance for\\n     * @param _startTime Start timestamp at which to get the average scaled balance\\n     * @param _endTime End timestamp at which to get the average scaled balance\\n     * @return The gauge scaled average balance between the two timestamps\\n     */\\n    function getScaledAverageGaugeBetween(\\n        address _gauge,\\n        uint256 _startTime,\\n        uint256 _endTime\\n    ) external view returns (uint256);\\n\\n    /**\\n     * @notice Get the gauge balance\\n     * @param _gauge Address of the gauge to get balance for\\n     * @return The gauge balance\\n     */\\n    function getGaugeBalance(address _gauge) external view returns (uint256);\\n\\n    /**\\n     * @notice Get the gauge scale balance\\n     * @param _gauge Address of the gauge to get scale balance for\\n     * @return The gauge scale balance\\n     */\\n    function getGaugeScaleBalance(address _gauge) external view returns (uint256);\\n\\n    /**\\n     * @notice Get the user stake balance for a given gauge\\n     * @param _gauge Address of the gauge to get stake balance for\\n     * @param _user Address of the user to get stake balance for\\n     * @return The user gauge balance\\n     */\\n    function getUserGaugeBalance(address _gauge, address _user) external view returns (uint256);\\n}\\n\",\"keccak256\":\"0xd19d91e1a864ab59d135470dd67b8a5877086fb2d9d7849a05e19b32ad4bac4d\",\"license\":\"GPL-3.0\"},\"contracts/interfaces/IGaugeReward.sol\":{\"content\":\"// SPDX-License-Identifier: GPL-3.0\\n\\npragma solidity 0.8.6;\\n\\n/**\\n * @title  PoolTogether V4 IGaugeReward\\n * @author PoolTogether Inc Team\\n * @notice The GaugeReward interface.\\n */\\ninterface IGaugeReward {\\n    /**\\n     * @notice Fallback function to call in GaugeController after a user has increased their gauge stake.\\n     * @param gauge Address of the gauge to increase stake for\\n     * @param user Address of the user to increase stake for\\n     * @param oldStakeBalance Old stake balance of the user\\n     */\\n    function afterIncreaseGauge(\\n        address gauge,\\n        address user,\\n        uint256 oldStakeBalance\\n    ) external;\\n\\n    /**\\n     * @notice Fallback function to call in GaugeController after a user has decreased his gauge stake.\\n     * @param gauge Address of the gauge to decrease stake for\\n     * @param user Address of the user to decrease stake for\\n     * @param oldStakeBalance Old stake balance of the user\\n     */\\n    function afterDecreaseGauge(\\n        address gauge,\\n        address user,\\n        uint256 oldStakeBalance\\n    ) external;\\n}\\n\",\"keccak256\":\"0x01ee2f08922ddd04ab32a0e9e55f6ece9f17748888fd447ebafa28276bd9e955\",\"license\":\"GPL-3.0\"},\"contracts/libraries/ExtendedSafeCastLib.sol\":{\"content\":\"// SPDX-License-Identifier: GPL-3.0\\n\\npragma solidity 0.8.6;\\n\\n/**\\n * @dev Wrappers over Solidity's uintXX/intXX casting operators with added overflow\\n * checks.\\n *\\n * Downcasting from uint256/int256 in Solidity does not revert on overflow. This can\\n * easily result in undesired exploitation or bugs, since developers usually\\n * assume that overflows raise errors. `SafeCast` restores this intuition by\\n * reverting the transaction when such an operation overflows.\\n *\\n * Using this library instead of the unchecked operations eliminates an entire\\n * class of bugs, so it's recommended to use it always.\\n *\\n * Can be combined with {SafeMath} and {SignedSafeMath} to extend it to smaller types, by performing\\n * all math on `uint256` and `int256` and then downcasting.\\n */\\nlibrary ExtendedSafeCastLib {\\n\\n    /**\\n     * @dev Returns the downcasted uint104 from uint256, reverting on\\n     * overflow (when the input is greater than largest uint104).\\n     *\\n     * Counterpart to Solidity's `uint104` operator.\\n     *\\n     * Requirements:\\n     *\\n     * - input must fit into 104 bits\\n     */\\n    function toUint104(uint256 _value) internal pure returns (uint104) {\\n        require(_value <= type(uint104).max, \\\"SafeCast: value doesn't fit in 104 bits\\\");\\n        return uint104(_value);\\n    }\\n\\n    /**\\n     * @dev Returns the downcasted uint208 from uint256, reverting on\\n     * overflow (when the input is greater than largest uint208).\\n     *\\n     * Counterpart to Solidity's `uint208` operator.\\n     *\\n     * Requirements:\\n     *\\n     * - input must fit into 208 bits\\n     */\\n    function toUint208(uint256 _value) internal pure returns (uint208) {\\n        require(_value <= type(uint208).max, \\\"SafeCast: value doesn't fit in 208 bits\\\");\\n        return uint208(_value);\\n    }\\n\\n    /**\\n     * @dev Returns the downcasted uint224 from uint256, reverting on\\n     * overflow (when the input is greater than largest uint224).\\n     *\\n     * Counterpart to Solidity's `uint224` operator.\\n     *\\n     * Requirements:\\n     *\\n     * - input must fit into 224 bits\\n     */\\n    function toUint224(uint256 _value) internal pure returns (uint224) {\\n        require(_value <= type(uint224).max, \\\"SafeCast: value doesn't fit in 224 bits\\\");\\n        return uint224(_value);\\n    }\\n}\\n\",\"keccak256\":\"0x1e8add7802f19dbf5957b4d921b2d7b5277f39c9e44505c0375e52f02134e434\",\"license\":\"GPL-3.0\"},\"contracts/libraries/ObservationLib.sol\":{\"content\":\"// SPDX-License-Identifier: GPL-3.0\\n\\npragma solidity 0.8.6;\\n\\nimport \\\"@openzeppelin/contracts/utils/math/SafeCast.sol\\\";\\n\\nimport \\\"./OverflowSafeComparatorLib.sol\\\";\\nimport \\\"./RingBufferLib.sol\\\";\\n\\n/**\\n* @title Observation Library\\n* @notice This library allows one to store an array of timestamped values and efficiently binary search them.\\n* @dev Largely pulled from Uniswap V3 Oracle.sol: https://github.com/Uniswap/v3-core/blob/c05a0e2c8c08c460fb4d05cfdda30b3ad8deeaac/contracts/libraries/Oracle.sol\\n* @author PoolTogether Inc.\\n*/\\nlibrary ObservationLib {\\n    using OverflowSafeComparatorLib for uint32;\\n    using SafeCast for uint256;\\n\\n    /// @notice The maximum number of observations\\n    uint24 public constant MAX_CARDINALITY = 16777215; // 2**24\\n\\n    /**\\n    * @notice Observation, which includes an amount and timestamp.\\n    * @param amount `amount` at `timestamp`.\\n    * @param timestamp Recorded `timestamp`.\\n    */\\n    struct Observation {\\n        uint224 amount;\\n        uint32 timestamp;\\n    }\\n\\n    /**\\n    * @notice Fetches Observations `beforeOrAt` and `atOrAfter` a `_target`, eg: where [`beforeOrAt`, `atOrAfter`] is satisfied.\\n    * The result may be the same Observation, or adjacent Observations.\\n    * @dev The answer must be contained in the array used when the target is located within the stored Observation.\\n    * boundaries: older than the most recent Observation and younger, or the same age as, the oldest Observation.\\n    * @dev  If `_newestObservationIndex` is less than `_oldestObservationIndex`, it means that we've wrapped around the circular buffer.\\n    *       So the most recent observation will be at `_oldestObservationIndex + _cardinality - 1`, at the beginning of the circular buffer.\\n    * @param _observations List of Observations to search through.\\n    * @param _newestObservationIndex Index of the newest Observation. Right side of the circular buffer.\\n    * @param _oldestObservationIndex Index of the oldest Observation. Left side of the circular buffer.\\n    * @param _target Timestamp at which we are searching the Observation.\\n    * @param _cardinality Cardinality of the circular buffer we are searching through.\\n    * @param _time Timestamp at which we perform the binary search.\\n    * @return beforeOrAt Observation recorded before, or at, the target.\\n    * @return atOrAfter Observation recorded at, or after, the target.\\n    */\\n    function binarySearch(\\n        Observation[MAX_CARDINALITY] storage _observations,\\n        uint24 _newestObservationIndex,\\n        uint24 _oldestObservationIndex,\\n        uint32 _target,\\n        uint24 _cardinality,\\n        uint32 _time\\n    ) internal view returns (Observation memory beforeOrAt, Observation memory atOrAfter) {\\n        uint256 leftSide = _oldestObservationIndex;\\n        uint256 rightSide = _newestObservationIndex < leftSide\\n            ? leftSide + _cardinality - 1\\n            : _newestObservationIndex;\\n        uint256 currentIndex;\\n\\n        while (true) {\\n            // We start our search in the middle of the `leftSide` and `rightSide`.\\n            // After each iteration, we narrow down the search to the left or the right side while still starting our search in the middle.\\n            currentIndex = (leftSide + rightSide) / 2;\\n\\n            beforeOrAt = _observations[uint24(RingBufferLib.wrap(currentIndex, _cardinality))];\\n            uint32 beforeOrAtTimestamp = beforeOrAt.timestamp;\\n\\n            // We've landed on an uninitialized timestamp, keep searching higher (more recently).\\n            if (beforeOrAtTimestamp == 0) {\\n                leftSide = currentIndex + 1;\\n                continue;\\n            }\\n\\n            atOrAfter = _observations[uint24(RingBufferLib.nextIndex(currentIndex, _cardinality))];\\n\\n            bool targetAtOrAfter = beforeOrAtTimestamp.lte(_target, _time);\\n\\n            // Check if we've found the corresponding Observation.\\n            if (targetAtOrAfter && _target.lte(atOrAfter.timestamp, _time)) {\\n                break;\\n            }\\n\\n            // If `beforeOrAtTimestamp` is greater than `_target`, then we keep searching lower. To the left of the current index.\\n            if (!targetAtOrAfter) {\\n                rightSide = currentIndex - 1;\\n            } else {\\n                // Otherwise, we keep searching higher. To the left of the current index.\\n                leftSide = currentIndex + 1;\\n            }\\n        }\\n    }\\n}\\n\",\"keccak256\":\"0x225592b42013fc0af60822e75bc047d53b42a5fcf15f2173cdc3b50bea334b0a\",\"license\":\"GPL-3.0\"},\"contracts/libraries/OverflowSafeComparatorLib.sol\":{\"content\":\"// SPDX-License-Identifier: GPL-3.0\\n\\npragma solidity 0.8.6;\\n\\n/// @title OverflowSafeComparatorLib library to share comparator functions between contracts\\n/// @dev Code taken from Uniswap V3 Oracle.sol: https://github.com/Uniswap/v3-core/blob/3e88af408132fc957e3e406f65a0ce2b1ca06c3d/contracts/libraries/Oracle.sol\\n/// @author PoolTogether Inc.\\nlibrary OverflowSafeComparatorLib {\\n    /// @notice 32-bit timestamps comparator.\\n    /// @dev safe for 0 or 1 overflows, `_a` and `_b` must be chronologically before or equal to time.\\n    /// @param _a A comparison timestamp from which to determine the relative position of `_timestamp`.\\n    /// @param _b Timestamp to compare against `_a`.\\n    /// @param _timestamp A timestamp truncated to 32 bits.\\n    /// @return bool Whether `_a` is chronologically < `_b`.\\n    function lt(\\n        uint32 _a,\\n        uint32 _b,\\n        uint32 _timestamp\\n    ) internal pure returns (bool) {\\n        // No need to adjust if there hasn't been an overflow\\n        if (_a <= _timestamp && _b <= _timestamp) return _a < _b;\\n\\n        uint256 aAdjusted = _a > _timestamp ? _a : _a + 2**32;\\n        uint256 bAdjusted = _b > _timestamp ? _b : _b + 2**32;\\n\\n        return aAdjusted < bAdjusted;\\n    }\\n\\n    /// @notice 32-bit timestamps comparator.\\n    /// @dev safe for 0 or 1 overflows, `_a` and `_b` must be chronologically before or equal to time.\\n    /// @param _a A comparison timestamp from which to determine the relative position of `_timestamp`.\\n    /// @param _b Timestamp to compare against `_a`.\\n    /// @param _timestamp A timestamp truncated to 32 bits.\\n    /// @return bool Whether `_a` is chronologically <= `_b`.\\n    function lte(\\n        uint32 _a,\\n        uint32 _b,\\n        uint32 _timestamp\\n    ) internal pure returns (bool) {\\n\\n        // No need to adjust if there hasn't been an overflow\\n        if (_a <= _timestamp && _b <= _timestamp) return _a <= _b;\\n\\n        uint256 aAdjusted = _a > _timestamp ? _a : _a + 2**32;\\n        uint256 bAdjusted = _b > _timestamp ? _b : _b + 2**32;\\n\\n        return aAdjusted <= bAdjusted;\\n    }\\n\\n    /// @notice 32-bit timestamp subtractor\\n    /// @dev safe for 0 or 1 overflows, where `_a` and `_b` must be chronologically before or equal to time\\n    /// @param _a The subtraction left operand\\n    /// @param _b The subtraction right operand\\n    /// @param _timestamp The current time.  Expected to be chronologically after both.\\n    /// @return The difference between a and b, adjusted for overflow\\n    function checkedSub(\\n        uint32 _a,\\n        uint32 _b,\\n        uint32 _timestamp\\n    ) internal pure returns (uint32) {\\n        // No need to adjust if there hasn't been an overflow\\n\\n        if (_a <= _timestamp && _b <= _timestamp) return _a - _b;\\n\\n        uint256 aAdjusted = _a > _timestamp ? _a : _a + 2**32;\\n        uint256 bAdjusted = _b > _timestamp ? _b : _b + 2**32;\\n\\n        return uint32(aAdjusted - bAdjusted);\\n    }\\n}\\n\",\"keccak256\":\"0x20630cf89e7b92462946defe979fd0e69fa119841d55886121948ad810778c74\",\"license\":\"GPL-3.0\"},\"contracts/libraries/RingBufferLib.sol\":{\"content\":\"// SPDX-License-Identifier: GPL-3.0\\n\\npragma solidity 0.8.6;\\n\\nlibrary RingBufferLib {\\n    /**\\n    * @notice Returns wrapped TWAB index.\\n    * @dev  In order to navigate the TWAB circular buffer, we need to use the modulo operator.\\n    * @dev  For example, if `_index` is equal to 32 and the TWAB circular buffer is of `_cardinality` 32,\\n    *       it will return 0 and will point to the first element of the array.\\n    * @param _index Index used to navigate through the TWAB circular buffer.\\n    * @param _cardinality TWAB buffer cardinality.\\n    * @return TWAB index.\\n    */\\n    function wrap(uint256 _index, uint256 _cardinality) internal pure returns (uint256) {\\n        return _index % _cardinality;\\n    }\\n\\n    /**\\n    * @notice Computes the negative offset from the given index, wrapped by the cardinality.\\n    * @dev  We add `_cardinality` to `_index` to be able to offset even if `_amount` is superior to `_cardinality`.\\n    * @param _index The index from which to offset\\n    * @param _amount The number of indices to offset.  This is subtracted from the given index.\\n    * @param _cardinality The number of elements in the ring buffer\\n    * @return Offsetted index.\\n     */\\n    function offset(\\n        uint256 _index,\\n        uint256 _amount,\\n        uint256 _cardinality\\n    ) internal pure returns (uint256) {\\n        return wrap(_index + _cardinality - _amount, _cardinality);\\n    }\\n\\n    /// @notice Returns the index of the last recorded TWAB\\n    /// @param _nextIndex The next available twab index.  This will be recorded to next.\\n    /// @param _cardinality The cardinality of the TWAB history.\\n    /// @return The index of the last recorded TWAB\\n    function newestIndex(uint256 _nextIndex, uint256 _cardinality)\\n        internal\\n        pure\\n        returns (uint256)\\n    {\\n        if (_cardinality == 0) {\\n            return 0;\\n        }\\n\\n        return wrap(_nextIndex + _cardinality - 1, _cardinality);\\n    }\\n\\n    /// @notice Computes the ring buffer index that follows the given one, wrapped by cardinality\\n    /// @param _index The index to increment\\n    /// @param _cardinality The number of elements in the Ring Buffer\\n    /// @return The next index relative to the given index.  Will wrap around to 0 if the next index == cardinality\\n    function nextIndex(uint256 _index, uint256 _cardinality)\\n        internal\\n        pure\\n        returns (uint256)\\n    {\\n        return wrap(_index + 1, _cardinality);\\n    }\\n}\\n\",\"keccak256\":\"0x052e3bf6bfb30f32950e322c853589a8d153cf34f4b1ee292b17eb46f2ae656c\",\"license\":\"GPL-3.0\"},\"contracts/libraries/TwabLib.sol\":{\"content\":\"// SPDX-License-Identifier: GPL-3.0\\n\\npragma solidity 0.8.6;\\n\\nimport \\\"./ExtendedSafeCastLib.sol\\\";\\nimport \\\"./OverflowSafeComparatorLib.sol\\\";\\nimport \\\"./RingBufferLib.sol\\\";\\nimport \\\"./ObservationLib.sol\\\";\\n\\n/**\\n  * @title  PoolTogether V4 TwabLib (Library)\\n  * @author PoolTogether Inc Team\\n  * @dev    Time-Weighted Average Balance Library for ERC20 tokens.\\n  * @notice This TwabLib adds on-chain historical lookups to a user(s) time-weighted average balance.\\n            Each user is mapped to an Account struct containing the TWAB history (ring buffer) and\\n            ring buffer parameters. Every token.transfer() creates a new TWAB checkpoint. The new TWAB\\n            checkpoint is stored in the circular ring buffer, as either a new checkpoint or rewriting\\n            a previous checkpoint with new parameters. The TwabLib (using existing blocktimes of 1block/15sec)\\n            guarantees minimum 7.4 years of search history.\\n */\\nlibrary TwabLib {\\n    using OverflowSafeComparatorLib for uint32;\\n    using ExtendedSafeCastLib for uint256;\\n\\n    /**\\n      * @notice Sets max ring buffer length in the Account.twabs Observation list.\\n                As users transfer/mint/burn tickets new Observation checkpoints are\\n                recorded. The current max cardinality guarantees a seven year minimum,\\n                of accurate historical lookups with current estimates of 1 new block\\n                every 15 seconds - assuming each block contains a transfer to trigger an\\n                observation write to storage.\\n      * @dev    The user Account.AccountDetails.cardinality parameter can NOT exceed\\n                the max cardinality variable. Preventing \\\"corrupted\\\" ring buffer lookup\\n                pointers and new observation checkpoints.\\n\\n                The MAX_CARDINALITY in fact guarantees at least 7.4 years of records:\\n                If 14 = block time in seconds\\n                (2**24) * 14 = 234881024 seconds of history\\n                234881024 / (365 * 24 * 60 * 60) ~= 7.44 years\\n    */\\n    uint24 public constant MAX_CARDINALITY = 16777215; // 2**24\\n\\n    /** @notice Struct ring buffer parameters for single user Account\\n      * @param balance       Current balance for an Account\\n      * @param nextTwabIndex Next uninitialized or updatable ring buffer checkpoint storage slot\\n      * @param cardinality   Current total \\\"initialized\\\" ring buffer checkpoints for single user AccountDetails.\\n                             Used to set initial boundary conditions for an efficient binary search.\\n    */\\n    struct AccountDetails {\\n        uint208 balance;\\n        uint24 nextTwabIndex;\\n        uint24 cardinality;\\n    }\\n\\n    /// @notice Combines account details with their twab history\\n    /// @param details The account details\\n    /// @param twabs The history of twabs for this account\\n    struct Account {\\n        AccountDetails details;\\n        ObservationLib.Observation[MAX_CARDINALITY] twabs;\\n    }\\n\\n    /// @notice Increases an account's balance and records a new twab.\\n    /// @param _account The account whose balance will be increased\\n    /// @param _amount The amount to increase the balance by\\n    /// @param _currentTime The current time\\n    /// @return accountDetails The new AccountDetails\\n    /// @return twab The user's latest TWAB\\n    /// @return isNew Whether the TWAB is new\\n    function increaseBalance(\\n        Account storage _account,\\n        uint208 _amount,\\n        uint32 _currentTime\\n    )\\n        internal\\n        returns (\\n            AccountDetails memory accountDetails,\\n            ObservationLib.Observation memory twab,\\n            bool isNew\\n        )\\n    {\\n        AccountDetails memory _accountDetails = _account.details;\\n        (accountDetails, twab, isNew) = _nextTwab(_account.twabs, _accountDetails, _currentTime);\\n        accountDetails.balance = _accountDetails.balance + _amount;\\n    }\\n\\n    /** @notice Calculates the next TWAB checkpoint for an account with a decreasing balance.\\n     * @dev    With Account struct and amount decreasing calculates the next TWAB observable checkpoint.\\n     * @param _account        Account whose balance will be decreased\\n     * @param _amount         Amount to decrease the balance by\\n     * @param _revertMessage  Revert message for insufficient balance\\n     * @return accountDetails Updated Account.details struct\\n     * @return twab           TWAB observation (with decreasing average)\\n     * @return isNew          Whether TWAB is new or calling twice in the same block\\n     */\\n    function decreaseBalance(\\n        Account storage _account,\\n        uint208 _amount,\\n        string memory _revertMessage,\\n        uint32 _currentTime\\n    )\\n        internal\\n        returns (\\n            AccountDetails memory accountDetails,\\n            ObservationLib.Observation memory twab,\\n            bool isNew\\n        )\\n    {\\n        AccountDetails memory _accountDetails = _account.details;\\n\\n        require(_accountDetails.balance >= _amount, _revertMessage);\\n\\n        (accountDetails, twab, isNew) = _nextTwab(_account.twabs, _accountDetails, _currentTime);\\n        unchecked {\\n            accountDetails.balance -= _amount;\\n        }\\n    }\\n\\n    /** @notice Calculates the average balance held by a user for a given time frame.\\n      * @dev    Finds the average balance between start and end timestamp epochs.\\n                Validates the supplied end time is within the range of elapsed time i.e. less then timestamp of now.\\n      * @param _twabs          Individual user Observation recorded checkpoints passed as storage pointer\\n      * @param _accountDetails User AccountDetails struct loaded in memory\\n      * @param _startTime      Start of timestamp range as an epoch\\n      * @param _endTime        End of timestamp range as an epoch\\n      * @param _currentTime    Block.timestamp\\n      * @return Average balance of user held between epoch timestamps start and end\\n    */\\n    function getAverageBalanceBetween(\\n        ObservationLib.Observation[MAX_CARDINALITY] storage _twabs,\\n        AccountDetails memory _accountDetails,\\n        uint32 _startTime,\\n        uint32 _endTime,\\n        uint32 _currentTime\\n    ) internal view returns (uint256) {\\n        uint32 endTime = _endTime > _currentTime ? _currentTime : _endTime;\\n\\n        return\\n            _getAverageBalanceBetween(_twabs, _accountDetails, _startTime, endTime, _currentTime);\\n    }\\n\\n    /// @notice Retrieves the oldest TWAB\\n    /// @param _twabs The storage array of twabs\\n    /// @param _accountDetails The TWAB account details\\n    /// @return index The index of the oldest TWAB in the twabs array\\n    /// @return twab The oldest TWAB\\n    function oldestTwab(\\n        ObservationLib.Observation[MAX_CARDINALITY] storage _twabs,\\n        AccountDetails memory _accountDetails\\n    ) internal view returns (uint24 index, ObservationLib.Observation memory twab) {\\n        index = _accountDetails.nextTwabIndex;\\n        twab = _twabs[index];\\n\\n        // If the TWAB is not initialized we go to the beginning of the TWAB circular buffer at index 0\\n        if (twab.timestamp == 0) {\\n            index = 0;\\n            twab = _twabs[0];\\n        }\\n    }\\n\\n    /// @notice Retrieves the newest TWAB\\n    /// @param _twabs The storage array of twabs\\n    /// @param _accountDetails The TWAB account details\\n    /// @return index The index of the newest TWAB in the twabs array\\n    /// @return twab The newest TWAB\\n    function newestTwab(\\n        ObservationLib.Observation[MAX_CARDINALITY] storage _twabs,\\n        AccountDetails memory _accountDetails\\n    ) internal view returns (uint24 index, ObservationLib.Observation memory twab) {\\n        index = uint24(RingBufferLib.newestIndex(_accountDetails.nextTwabIndex, MAX_CARDINALITY));\\n        twab = _twabs[index];\\n    }\\n\\n    /// @notice Retrieves amount at `_targetTime` timestamp\\n    /// @param _twabs List of TWABs to search through.\\n    /// @param _accountDetails Accounts details\\n    /// @param _targetTime Timestamp at which the reserved TWAB should be for.\\n    /// @return uint256 TWAB amount at `_targetTime`.\\n    function getBalanceAt(\\n        ObservationLib.Observation[MAX_CARDINALITY] storage _twabs,\\n        AccountDetails memory _accountDetails,\\n        uint32 _targetTime,\\n        uint32 _currentTime\\n    ) internal view returns (uint256) {\\n        uint32 timeToTarget = _targetTime > _currentTime ? _currentTime : _targetTime;\\n        return _getBalanceAt(_twabs, _accountDetails, timeToTarget, _currentTime);\\n    }\\n\\n    /// @notice Calculates the average balance held by a user for a given time frame.\\n    /// @param _startTime The start time of the time frame.\\n    /// @param _endTime The end time of the time frame.\\n    /// @return The average balance that the user held during the time frame.\\n    function _getAverageBalanceBetween(\\n        ObservationLib.Observation[MAX_CARDINALITY] storage _twabs,\\n        AccountDetails memory _accountDetails,\\n        uint32 _startTime,\\n        uint32 _endTime,\\n        uint32 _currentTime\\n    ) private view returns (uint256) {\\n        (uint24 oldestTwabIndex, ObservationLib.Observation memory oldTwab) = oldestTwab(\\n            _twabs,\\n            _accountDetails\\n        );\\n\\n        (uint24 newestTwabIndex, ObservationLib.Observation memory newTwab) = newestTwab(\\n            _twabs,\\n            _accountDetails\\n        );\\n\\n        ObservationLib.Observation memory startTwab = _calculateTwab(\\n            _twabs,\\n            _accountDetails,\\n            newTwab,\\n            oldTwab,\\n            newestTwabIndex,\\n            oldestTwabIndex,\\n            _startTime,\\n            _currentTime\\n        );\\n\\n        ObservationLib.Observation memory endTwab = _calculateTwab(\\n            _twabs,\\n            _accountDetails,\\n            newTwab,\\n            oldTwab,\\n            newestTwabIndex,\\n            oldestTwabIndex,\\n            _endTime,\\n            _currentTime\\n        );\\n\\n        // Difference in amount / time\\n        return (endTwab.amount - startTwab.amount) / OverflowSafeComparatorLib.checkedSub(endTwab.timestamp, startTwab.timestamp, _currentTime);\\n    }\\n\\n    /** @notice Searches TWAB history and calculate the difference between amount(s)/timestamp(s) to return average balance\\n                between the Observations closes to the supplied targetTime.\\n      * @param _twabs          Individual user Observation recorded checkpoints passed as storage pointer\\n      * @param _accountDetails User AccountDetails struct loaded in memory\\n      * @param _targetTime     Target timestamp to filter Observations in the ring buffer binary search\\n      * @param _currentTime    Block.timestamp\\n      * @return uint256 Time-weighted average amount between two closest observations.\\n    */\\n    function _getBalanceAt(\\n        ObservationLib.Observation[MAX_CARDINALITY] storage _twabs,\\n        AccountDetails memory _accountDetails,\\n        uint32 _targetTime,\\n        uint32 _currentTime\\n    ) private view returns (uint256) {\\n        uint24 newestTwabIndex;\\n        ObservationLib.Observation memory afterOrAt;\\n        ObservationLib.Observation memory beforeOrAt;\\n        (newestTwabIndex, beforeOrAt) = newestTwab(_twabs, _accountDetails);\\n\\n        // If `_targetTime` is chronologically after the newest TWAB, we can simply return the current balance\\n        if (beforeOrAt.timestamp.lte(_targetTime, _currentTime)) {\\n            return _accountDetails.balance;\\n        }\\n\\n        uint24 oldestTwabIndex;\\n        // Now, set before to the oldest TWAB\\n        (oldestTwabIndex, beforeOrAt) = oldestTwab(_twabs, _accountDetails);\\n\\n        // If `_targetTime` is chronologically before the oldest TWAB, we can early return\\n        if (_targetTime.lt(beforeOrAt.timestamp, _currentTime)) {\\n            return 0;\\n        }\\n\\n        // Otherwise, we perform the `binarySearch`\\n        (beforeOrAt, afterOrAt) = ObservationLib.binarySearch(\\n            _twabs,\\n            newestTwabIndex,\\n            oldestTwabIndex,\\n            _targetTime,\\n            _accountDetails.cardinality,\\n            _currentTime\\n        );\\n\\n        // Sum the difference in amounts and divide by the difference in timestamps.\\n        // The time-weighted average balance uses time measured between two epoch timestamps as\\n        // a constaint on the measurement when calculating the time weighted average balance.\\n        return\\n            (afterOrAt.amount - beforeOrAt.amount) / OverflowSafeComparatorLib.checkedSub(afterOrAt.timestamp, beforeOrAt.timestamp, _currentTime);\\n    }\\n\\n    /** @notice Calculates a user TWAB for a target timestamp using the historical TWAB records.\\n                The balance is linearly interpolated: amount differences / timestamp differences\\n                using the simple (after.amount - before.amount / end.timestamp - start.timestamp) formula.\\n    /** @dev    Binary search in _calculateTwab fails when searching out of bounds. Thus, before\\n                searching we exclude target timestamps out of range of newest/oldest TWAB(s).\\n                IF a search is before or after the range we \\\"extrapolate\\\" a Observation from the expected state.\\n      * @param _twabs           Individual user Observation recorded checkpoints passed as storage pointer\\n      * @param _accountDetails  User AccountDetails struct loaded in memory\\n      * @param _newestTwab      Newest TWAB in history (end of ring buffer)\\n      * @param _oldestTwab      Olderst TWAB in history (end of ring buffer)\\n      * @param _newestTwabIndex Pointer in ring buffer to newest TWAB\\n      * @param _oldestTwabIndex Pointer in ring buffer to oldest TWAB\\n      * @param _targetTimestamp Epoch timestamp to calculate for time (T) in the TWAB\\n      * @param _time            Block.timestamp\\n      * @return accountDetails Updated Account.details struct\\n    */\\n    function _calculateTwab(\\n        ObservationLib.Observation[MAX_CARDINALITY] storage _twabs,\\n        AccountDetails memory _accountDetails,\\n        ObservationLib.Observation memory _newestTwab,\\n        ObservationLib.Observation memory _oldestTwab,\\n        uint24 _newestTwabIndex,\\n        uint24 _oldestTwabIndex,\\n        uint32 _targetTimestamp,\\n        uint32 _time\\n    ) private view returns (ObservationLib.Observation memory) {\\n        // If `_targetTimestamp` is chronologically after the newest TWAB, we extrapolate a new one\\n        if (_newestTwab.timestamp.lt(_targetTimestamp, _time)) {\\n            return _computeNextTwab(_newestTwab, _accountDetails.balance, _targetTimestamp);\\n        }\\n\\n        if (_newestTwab.timestamp == _targetTimestamp) {\\n            return _newestTwab;\\n        }\\n\\n        if (_oldestTwab.timestamp == _targetTimestamp) {\\n            return _oldestTwab;\\n        }\\n\\n        // If `_targetTimestamp` is chronologically before the oldest TWAB, we create a zero twab\\n        if (_targetTimestamp.lt(_oldestTwab.timestamp, _time)) {\\n            return ObservationLib.Observation({ amount: 0, timestamp: _targetTimestamp });\\n        }\\n\\n        // Otherwise, both timestamps must be surrounded by twabs.\\n        (\\n            ObservationLib.Observation memory beforeOrAtStart,\\n            ObservationLib.Observation memory afterOrAtStart\\n        ) = ObservationLib.binarySearch(\\n                _twabs,\\n                _newestTwabIndex,\\n                _oldestTwabIndex,\\n                _targetTimestamp,\\n                _accountDetails.cardinality,\\n                _time\\n            );\\n\\n        uint224 heldBalance = (afterOrAtStart.amount - beforeOrAtStart.amount) /\\n            OverflowSafeComparatorLib.checkedSub(afterOrAtStart.timestamp, beforeOrAtStart.timestamp, _time);\\n\\n        return _computeNextTwab(beforeOrAtStart, heldBalance, _targetTimestamp);\\n    }\\n\\n    /**\\n     * @notice Calculates the next TWAB using the newestTwab and updated balance.\\n     * @dev    Storage of the TWAB obersation is managed by the calling function and not _computeNextTwab.\\n     * @param _currentTwab    Newest Observation in the Account.twabs list\\n     * @param _currentBalance User balance at time of most recent (newest) checkpoint write\\n     * @param _time           Current block.timestamp\\n     * @return TWAB Observation\\n     */\\n    function _computeNextTwab(\\n        ObservationLib.Observation memory _currentTwab,\\n        uint224 _currentBalance,\\n        uint32 _time\\n    ) private pure returns (ObservationLib.Observation memory) {\\n        // New twab amount = last twab amount (or zero) + (current amount * elapsed seconds)\\n        return\\n            ObservationLib.Observation({\\n                amount: _currentTwab.amount +\\n                    _currentBalance *\\n                    (_time.checkedSub(_currentTwab.timestamp, _time)),\\n                timestamp: _time\\n            });\\n    }\\n\\n    /// @notice Sets a new TWAB Observation at the next available index and returns the new account details.\\n    /// @dev Note that if _currentTime is before the last observation timestamp, it appears as an overflow\\n    /// @param _twabs The twabs array to insert into\\n    /// @param _accountDetails The current account details\\n    /// @param _currentTime The current time\\n    /// @return accountDetails The new account details\\n    /// @return twab The newest twab (may or may not be brand-new)\\n    /// @return isNew Whether the newest twab was created by this call\\n    function _nextTwab(\\n        ObservationLib.Observation[MAX_CARDINALITY] storage _twabs,\\n        AccountDetails memory _accountDetails,\\n        uint32 _currentTime\\n    )\\n        private\\n        returns (\\n            AccountDetails memory accountDetails,\\n            ObservationLib.Observation memory twab,\\n            bool isNew\\n        )\\n    {\\n        (, ObservationLib.Observation memory _newestTwab) = newestTwab(_twabs, _accountDetails);\\n\\n        // if we're in the same block, return\\n        if (_newestTwab.timestamp == _currentTime) {\\n            return (_accountDetails, _newestTwab, false);\\n        }\\n\\n        ObservationLib.Observation memory newTwab = _computeNextTwab(\\n            _newestTwab,\\n            _accountDetails.balance,\\n            _currentTime\\n        );\\n\\n        _twabs[_accountDetails.nextTwabIndex] = newTwab;\\n\\n        AccountDetails memory nextAccountDetails = push(_accountDetails);\\n\\n        return (nextAccountDetails, newTwab, true);\\n    }\\n\\n    /// @notice \\\"Pushes\\\" a new element on the AccountDetails ring buffer, and returns the new AccountDetails\\n    /// @param _accountDetails The account details from which to pull the cardinality and next index\\n    /// @return The new AccountDetails\\n    function push(AccountDetails memory _accountDetails)\\n        internal\\n        pure\\n        returns (AccountDetails memory)\\n    {\\n        _accountDetails.nextTwabIndex = uint24(\\n            RingBufferLib.nextIndex(_accountDetails.nextTwabIndex, MAX_CARDINALITY)\\n        );\\n\\n        // Prevent the Account specific cardinality from exceeding the MAX_CARDINALITY.\\n        // The ring buffer length is limited by MAX_CARDINALITY. IF the account.cardinality\\n        // exceeds the max cardinality, new observations would be incorrectly set or the\\n        // observation would be out of \\\"bounds\\\" of the ring buffer. Once reached the\\n        // AccountDetails.cardinality will continue to be equal to max cardinality.\\n        if (_accountDetails.cardinality < MAX_CARDINALITY) {\\n            _accountDetails.cardinality += 1;\\n        }\\n\\n        return _accountDetails;\\n    }\\n}\\n\",\"keccak256\":\"0x446d8221329601d40464981a50a0e31f3fd48da0ebf0fea646c5a089ccfbdff4\",\"license\":\"GPL-3.0\"}},\"version\":1}",
  "bytecode": "0x60806040523480156200001157600080fd5b506040516200232c3803806200232c83398101604081905262000034916200019e565b8062000040816200014e565b506001600160a01b0381166200009d5760405162461bcd60e51b815260206004820152601960248201527f47432f6f776e65722d6e6f742d7a65726f2d616464726573730000000000000060448201526064015b60405180910390fd5b6001600160a01b038216620000f55760405162461bcd60e51b815260206004820152601960248201527f47432f746f6b656e2d6e6f742d7a65726f2d6164647265737300000000000000604482015260640162000094565b600280546001600160a01b0319166001600160a01b0384169081179091556040519081527ff40fcec21964ffb566044d083b4073f29f7f7929110ea19e1b3ebe375d89055e9060200160405180910390a15050620001f6565b600080546001600160a01b038381166001600160a01b0319831681178455604051919092169283917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e09190a35050565b60008060408385031215620001b257600080fd5b8251620001bf81620001dd565b6020840151909250620001d281620001dd565b809150509250929050565b6001600160a01b0381168114620001f357600080fd5b50565b61212680620002066000396000f3fe608060405234801561001057600080fd5b50600436106101a35760003560e01c806378fa672e116100ee578063d77cf90611610097578063ee37d5a011610071578063ee37d5a0146103da578063f2fde38b146103ed578063fc0c546a14610400578063fd775c541461041357600080fd5b8063d77cf90614610384578063dd14d96114610397578063e30c3978146103c957600080fd5b8063a1a2f120116100c8578063a1a2f1201461031a578063aa79979b1461032d578063b14c69861461037157600080fd5b806378fa672e146102cf5780638da5cb5b146102e25780639da882ac1461030757600080fd5b806347e7ef24116101505780635cf39fbf1161012a5780635cf39fbf146102a157806362b3fdd2146102b4578063715018a6146102c757600080fd5b806347e7ef24146102735780634b0ad1cb146102865780634e71e0c81461029957600080fd5b80632e1a7d4d116101815780632e1a7d4d146102385780633a0451451461024d5780633c72026e1461026057600080fd5b8063117d37e6146101a85780632249fd72146101ed57806327e235e314610218575b600080fd5b6101da6101b6366004611d5b565b6001600160a01b03166000908152600660205260409020546001600160d01b031690565b6040519081526020015b60405180910390f35b6101da6101fb366004611d78565b600560209081526000928352604080842090915290825290205481565b6101da610226366004611d5b565b60046020526000908152604090205481565b61024b610246366004611e34565b610426565b005b61024b61025b366004611d5b565b6104eb565b6101da61026e366004611ddd565b610606565b61024b610281366004611db1565b61061d565b61024b610294366004611db1565b6106f2565b61024b610957565b6101da6102af366004611ddd565b6109e5565b61024b6102c2366004611db1565b610a2b565b61024b610b59565b6101da6102dd366004611d78565b610bce565b6000546001600160a01b03165b6040516001600160a01b0390911681526020016101e4565b61024b610315366004611d5b565b610bfb565b6101da610328366004611ddd565b610c10565b61036161033b366004611d5b565b6001600160a01b03166000908152600760205260409020546001600160d01b0316151590565b60405190151581526020016101e4565b61024b61037f366004611db1565b610c1d565b61024b610392366004611d5b565b610c27565b6101da6103a5366004611d5b565b6001600160a01b03166000908152600760205260409020546001600160d01b031690565b6001546001600160a01b03166102ef565b6003546102ef906001600160a01b031681565b61024b6103fb366004611d5b565b610d47565b6002546102ef906001600160a01b031681565b61024b610421366004611db1565b610e83565b3360009081526004602052604081208054839290610445908490612051565b90915550506002546040517fa9059cbb000000000000000000000000000000000000000000000000000000008152336004820152602481018390526001600160a01b039091169063a9059cbb90604401602060405180830381600087803b1580156104af57600080fd5b505af11580156104c3573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906104e79190611e12565b5050565b6001600160a01b038116600090815260076020908152604091829020825160608101845281546001600160d01b03811680835262ffffff600160d01b8304811684870152600160e81b909204909116828601528451808601909552600685527f696e73756666000000000000000000000000000000000000000000000000000093850193909352909290916105839184919042611021565b505080518354602083015160409093015162ffffff908116600160e81b027cffffffffffffffffffffffffffffffffffffffffffffffffffffffffff91909416600160d01b027fffffff00000000000000000000000000000000000000000000000000000000009092166001600160d01b03909316929092171716179091555050565b60006106138484846110e5565b90505b9392505050565b6001600160a01b03821660009081526004602052604081208054839290610645908490611f2b565b90915550506002546040517f23b872dd000000000000000000000000000000000000000000000000000000008152336004820152306024820152604481018390526001600160a01b03909116906323b872dd90606401602060405180830381600087803b1580156106b557600080fd5b505af11580156106c9573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906106ed9190611e12565b505050565b8161071d816001600160a01b03166000908152600760205260409020546001600160d01b0316151590565b61076e5760405162461bcd60e51b815260206004820152601460248201527f476175676520646f6573206e6f7420657869737400000000000000000000000060448201526064015b60405180910390fd5b336000908152600460205260408120805484929061078d908490611f2b565b90915550503360009081526005602090815260408083206001600160a01b0387168452909152812080548492906107c5908490612051565b90915550506001600160a01b03831660009081526006602052604081209061082c826107f086611158565b6040518060400160405280600681526020017f696e73756666000000000000000000000000000000000000000000000000000081525042611021565b505080518354602083015160408401516001600160d01b039093167fffffff00000000000000000000000000000000000000000000000000000000009092168217600160d01b62ffffff92831602177cffffffffffffffffffffffffffffffffffffffffffffffffffffffffff16600160e81b91909316029190911784556003549192506001600160a01b0390911690633166193090879033906108d1908990611f2b565b6040517fffffffff0000000000000000000000000000000000000000000000000000000060e086901b1681526001600160a01b0393841660048201529290911660248301526044820152606401600060405180830381600087803b15801561093857600080fd5b505af115801561094c573d6000803e3d6000fd5b505050505050505050565b6001546001600160a01b031633146109b15760405162461bcd60e51b815260206004820152601f60248201527f4f776e61626c652f63616c6c65722d6e6f742d70656e64696e674f776e6572006044820152606401610765565b6001546109c6906001600160a01b03166111db565b6001805473ffffffffffffffffffffffffffffffffffffffff19169055565b6000806109f3858585611238565b90506000610a028686866110e5565b9050670de0b6b3a7640000610a178284611fcc565b610a219190611f89565b9695505050505050565b6001600160a01b038216600090815260076020908152604091829020825160608101845281546001600160d01b03811680835262ffffff600160d01b8304811695840195909552600160e81b909104909316938101939093529190831015610ab157610aa682610a9a85611158565b83516107f09190612009565b50909150610ad99050565b610ad3828260000151610ac386611158565b610acd9190612009565b426112a2565b50909150505b80518254602083015160409093015162ffffff908116600160e81b027cffffffffffffffffffffffffffffffffffffffffffffffffffffffffff91909416600160d01b027fffffff00000000000000000000000000000000000000000000000000000000009092166001600160d01b039093169290921717161790555050565b33610b6c6000546001600160a01b031690565b6001600160a01b031614610bc25760405162461bcd60e51b815260206004820152601860248201527f4f776e61626c652f63616c6c65722d6e6f742d6f776e657200000000000000006044820152606401610765565b610bcc60006111db565b565b6001600160a01b038082166000908152600560209081526040808320938616835292905220545b92915050565b610c0d81670de0b6b3a764000061134b565b50565b6000610613848484611238565b6104e7828261134b565b33610c3a6000546001600160a01b031690565b6001600160a01b031614610c905760405162461bcd60e51b815260206004820152601860248201527f4f776e61626c652f63616c6c65722d6e6f742d6f776e657200000000000000006044820152606401610765565b6001600160a01b038116610ce65760405162461bcd60e51b815260206004820152601f60248201527f47432f47617567655265776172642d6e6f742d7a65726f2d61646472657373006044820152606401610765565b6003805473ffffffffffffffffffffffffffffffffffffffff19166001600160a01b0383169081179091556040519081527fc9436864b28e4bdede75d52a3d281101b91830fd91f9bc698dfde6048a7726609060200160405180910390a150565b33610d5a6000546001600160a01b031690565b6001600160a01b031614610db05760405162461bcd60e51b815260206004820152601860248201527f4f776e61626c652f63616c6c65722d6e6f742d6f776e657200000000000000006044820152606401610765565b6001600160a01b038116610e2c5760405162461bcd60e51b815260206004820152602560248201527f4f776e61626c652f70656e64696e674f776e65722d6e6f742d7a65726f2d616460448201527f64726573730000000000000000000000000000000000000000000000000000006064820152608401610765565b6001805473ffffffffffffffffffffffffffffffffffffffff19166001600160a01b0383169081179091556040517f239a2ddded15777fa246aed5f7e1a9bc69a39d4eb4a397034d1d85766cca7d4c90600090a250565b81610eae816001600160a01b03166000908152600760205260409020546001600160d01b0316151590565b610efa5760405162461bcd60e51b815260206004820152601460248201527f476175676520646f6573206e6f742065786973740000000000000000000000006044820152606401610765565b3360009081526004602052604081208054849290610f19908490612051565b90915550503360009081526005602090815260408083206001600160a01b038716845290915281208054849290610f51908490611f2b565b90915550506001600160a01b038316600090815260066020526040812090610f7c82610acd86611158565b505080518354602083015160408401516001600160d01b039093167fffffff00000000000000000000000000000000000000000000000000000000009092168217600160d01b62ffffff92831602177cffffffffffffffffffffffffffffffffffffffffffffffffffffffffff16600160e81b91909316029190911784556003549192506001600160a01b03909116906395cebcd490879033906108d1908990612051565b604080516060810182526000808252602082018190529181019190915260408051808201909152600080825260208201526040805160608101825287546001600160d01b0380821680845262ffffff600160d01b840481166020860152600160e81b90930490921693830193909352600092879190891611156110b75760405162461bcd60e51b81526004016107659190611e4d565b506110c68860010182876113f5565b8251999099036001600160d01b03168252909990985095505050505050565b6001600160a01b0383166000818152600760208181526040808420815160608101835281546001600160d01b038116825262ffffff600160d01b8204811683870152600160e81b9091041692810192909252948452919052909161114f90600101828686426114dc565b95945050505050565b60006001600160d01b038211156111d75760405162461bcd60e51b815260206004820152602760248201527f53616665436173743a2076616c756520646f65736e27742066697420696e203260448201527f30382062697473000000000000000000000000000000000000000000000000006064820152608401610765565b5090565b600080546001600160a01b0383811673ffffffffffffffffffffffffffffffffffffffff19831681178455604051919092169283917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e09190a35050565b6001600160a01b0383166000818152600660208181526040808420815160608101835281546001600160d01b038116825262ffffff600160d01b8204811683870152600160e81b9091041692810192909252948452919052909161114f90600101828686426114dc565b604080516060810182526000808252602082018190529181019190915260408051808201909152600080825260208201526040805160608101825286546001600160d01b038116825262ffffff600160d01b820481166020840152600160e81b909104169181019190915260009061131e6001880182876113f5565b83519296509094509250611333908790611ec0565b6001600160d01b031684525091959094509092509050565b6001600160a01b03821660009081526007602052604081209061137182610acd85611158565b505080518354602083015160409093015162ffffff908116600160e81b027cffffffffffffffffffffffffffffffffffffffffffffffffffffffffff91909416600160d01b027fffffff00000000000000000000000000000000000000000000000000000000009092166001600160d01b0390931692909217171617909155505050565b604080516060810182526000808252602082018190529181019190915260408051808201909152600080825260208201526000806114338787611514565b9150508463ffffffff16816020015163ffffffff16141561145c578593509150600090506114d3565b60006114768288600001516001600160d01b031688611594565b90508088886020015162ffffff1662ffffff8110611496576114966120c5565b825160209093015163ffffffff16600160e01b026001600160e01b039093169290921791015560006114c78861160f565b95509093506001925050505b93509350939050565b6000808263ffffffff168463ffffffff16116114f857836114fa565b825b90506115098787878487611677565b979650505050505050565b6040805180820190915260008082526020820181905290611543836020015162ffffff1662ffffff8016611713565b9150838262ffffff1662ffffff811061155e5761155e6120c5565b604080518082019091529101546001600160e01b0381168252600160e01b900463ffffffff166020820152919491935090915050565b604080518082019091526000808252602082015260405180604001604052806115d28660200151858663ffffffff166117419092919063ffffffff16565b6115e29063ffffffff1686611f9d565b86516115ee9190611eeb565b6001600160e01b031681526020018363ffffffff1681525090509392505050565b6040805160608101825260008082526020808301829052928201529082015161163f9062ffffff9081169061180b565b62ffffff90811660208401526040830151811610156111d75760018260400181815161166b9190611f0d565b62ffffff169052505090565b6000806000611686888861181b565b915091506000806116978a8a611514565b9150915060006116ad8b8b8487878a8f8e611898565b905060006116c18c8c8588888b8f8f611898565b90506116d6816020015183602001518a611741565b63ffffffff16826000015182600001516116f09190612031565b6116fa9190611f63565b6001600160e01b03169c9b505050505050505050505050565b60008161172257506000610bf5565b61061660016117318486611f2b565b61173b9190612051565b836119e2565b60008163ffffffff168463ffffffff161115801561176b57508163ffffffff168363ffffffff1611155b156117815761177a8385612068565b9050610616565b60008263ffffffff168563ffffffff16116117b0576117ab63ffffffff8616640100000000611f43565b6117b8565b8463ffffffff165b64ffffffffff16905060008363ffffffff168563ffffffff16116117f0576117eb63ffffffff8616640100000000611f43565b6117f8565b8463ffffffff165b64ffffffffff169050610a218183612051565b600061061661173b846001611f2b565b604080518082019091526000808252602082018190529082602001519150838262ffffff1662ffffff8110611852576118526120c5565b604080518082019091529101546001600160e01b0381168252600160e01b900463ffffffff16602082018190529091506118915760009150838261155e565b9250929050565b60408051808201909152600080825260208201526118cb8383896020015163ffffffff166119ee9092919063ffffffff16565b156118ef576118e88789600001516001600160d01b031685611594565b90506119d6565b8263ffffffff16876020015163ffffffff16141561190e5750856119d6565b8263ffffffff16866020015163ffffffff16141561192d5750846119d6565b61194c8660200151838563ffffffff166119ee9092919063ffffffff16565b156119715750604080518082019091526000815263ffffffff831660208201526119d6565b6000806119868b8888888e6040015189611abd565b91509150600061199f8260200151846020015187611741565b63ffffffff16836000015183600001516119b99190612031565b6119c39190611f63565b90506119d0838288611594565b93505050505b98975050505050505050565b60006106168284612085565b60008163ffffffff168463ffffffff1611158015611a1857508163ffffffff168363ffffffff1611155b15611a33578263ffffffff168463ffffffff16109050610616565b60008263ffffffff168563ffffffff1611611a6257611a5d63ffffffff8616640100000000611f43565b611a6a565b8463ffffffff165b64ffffffffff16905060008363ffffffff168563ffffffff1611611aa257611a9d63ffffffff8616640100000000611f43565b611aaa565b8463ffffffff165b64ffffffffff1690911095945050505050565b6040805180820190915260008082526020820152604080518082019091526000808252602082015260008662ffffff1690506000818962ffffff1610611b08578862ffffff16611b23565b6001611b1962ffffff881684611f2b565b611b239190612051565b905060005b6002611b348385611f2b565b611b3e9190611f89565b90508a611b50828962ffffff166119e2565b62ffffff1662ffffff8110611b6757611b676120c5565b604080518082019091529101546001600160e01b0381168252600160e01b900463ffffffff166020820181905290955080611baf57611ba7826001611f2b565b935050611b28565b8b611bbf838a62ffffff1661180b565b62ffffff1662ffffff8110611bd657611bd66120c5565b604080518082019091529101546001600160e01b038116825263ffffffff600160e01b90910481166020830152909550600090611c1b90838116908c908b90611c8a16565b9050808015611c445750611c448660200151898c63ffffffff16611c8a9092919063ffffffff16565b15611c50575050611c7c565b80611c6757611c60600184612051565b9350611c75565b611c72836001611f2b565b94505b5050611b28565b505050965096945050505050565b60008163ffffffff168463ffffffff1611158015611cb457508163ffffffff168363ffffffff1611155b15611cd0578263ffffffff168463ffffffff1611159050610616565b60008263ffffffff168563ffffffff1611611cff57611cfa63ffffffff8616640100000000611f43565b611d07565b8463ffffffff165b64ffffffffff16905060008363ffffffff168563ffffffff1611611d3f57611d3a63ffffffff8616640100000000611f43565b611d47565b8463ffffffff165b64ffffffffff169091111595945050505050565b600060208284031215611d6d57600080fd5b8135610616816120db565b60008060408385031215611d8b57600080fd5b8235611d96816120db565b91506020830135611da6816120db565b809150509250929050565b60008060408385031215611dc457600080fd5b8235611dcf816120db565b946020939093013593505050565b600080600060608486031215611df257600080fd5b8335611dfd816120db565b95602085013595506040909401359392505050565b600060208284031215611e2457600080fd5b8151801515811461061657600080fd5b600060208284031215611e4657600080fd5b5035919050565b600060208083528351808285015260005b81811015611e7a57858101830151858201604001528201611e5e565b81811115611e8c576000604083870101525b50601f017fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe016929092016040019392505050565b60006001600160d01b03808316818516808303821115611ee257611ee2612099565b01949350505050565b60006001600160e01b03808316818516808303821115611ee257611ee2612099565b600062ffffff808316818516808303821115611ee257611ee2612099565b60008219821115611f3e57611f3e612099565b500190565b600064ffffffffff808316818516808303821115611ee257611ee2612099565b60006001600160e01b0380841680611f7d57611f7d6120af565b92169190910492915050565b600082611f9857611f986120af565b500490565b60006001600160e01b0380831681851681830481118215151615611fc357611fc3612099565b02949350505050565b6000817fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff048311821515161561200457612004612099565b500290565b60006001600160d01b038381169083168181101561202957612029612099565b039392505050565b60006001600160e01b038381169083168181101561202957612029612099565b60008282101561206357612063612099565b500390565b600063ffffffff8381169083168181101561202957612029612099565b600082612094576120946120af565b500690565b634e487b7160e01b600052601160045260246000fd5b634e487b7160e01b600052601260045260246000fd5b634e487b7160e01b600052603260045260246000fd5b6001600160a01b0381168114610c0d57600080fdfea264697066735822122058ff36e3f2f2e1290facb6217e9444fc3bff4c3db7f87b4a2582b42a8f30cc6064736f6c63430008060033",
  "deployedBytecode": "0x608060405234801561001057600080fd5b50600436106101a35760003560e01c806378fa672e116100ee578063d77cf90611610097578063ee37d5a011610071578063ee37d5a0146103da578063f2fde38b146103ed578063fc0c546a14610400578063fd775c541461041357600080fd5b8063d77cf90614610384578063dd14d96114610397578063e30c3978146103c957600080fd5b8063a1a2f120116100c8578063a1a2f1201461031a578063aa79979b1461032d578063b14c69861461037157600080fd5b806378fa672e146102cf5780638da5cb5b146102e25780639da882ac1461030757600080fd5b806347e7ef24116101505780635cf39fbf1161012a5780635cf39fbf146102a157806362b3fdd2146102b4578063715018a6146102c757600080fd5b806347e7ef24146102735780634b0ad1cb146102865780634e71e0c81461029957600080fd5b80632e1a7d4d116101815780632e1a7d4d146102385780633a0451451461024d5780633c72026e1461026057600080fd5b8063117d37e6146101a85780632249fd72146101ed57806327e235e314610218575b600080fd5b6101da6101b6366004611d5b565b6001600160a01b03166000908152600660205260409020546001600160d01b031690565b6040519081526020015b60405180910390f35b6101da6101fb366004611d78565b600560209081526000928352604080842090915290825290205481565b6101da610226366004611d5b565b60046020526000908152604090205481565b61024b610246366004611e34565b610426565b005b61024b61025b366004611d5b565b6104eb565b6101da61026e366004611ddd565b610606565b61024b610281366004611db1565b61061d565b61024b610294366004611db1565b6106f2565b61024b610957565b6101da6102af366004611ddd565b6109e5565b61024b6102c2366004611db1565b610a2b565b61024b610b59565b6101da6102dd366004611d78565b610bce565b6000546001600160a01b03165b6040516001600160a01b0390911681526020016101e4565b61024b610315366004611d5b565b610bfb565b6101da610328366004611ddd565b610c10565b61036161033b366004611d5b565b6001600160a01b03166000908152600760205260409020546001600160d01b0316151590565b60405190151581526020016101e4565b61024b61037f366004611db1565b610c1d565b61024b610392366004611d5b565b610c27565b6101da6103a5366004611d5b565b6001600160a01b03166000908152600760205260409020546001600160d01b031690565b6001546001600160a01b03166102ef565b6003546102ef906001600160a01b031681565b61024b6103fb366004611d5b565b610d47565b6002546102ef906001600160a01b031681565b61024b610421366004611db1565b610e83565b3360009081526004602052604081208054839290610445908490612051565b90915550506002546040517fa9059cbb000000000000000000000000000000000000000000000000000000008152336004820152602481018390526001600160a01b039091169063a9059cbb90604401602060405180830381600087803b1580156104af57600080fd5b505af11580156104c3573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906104e79190611e12565b5050565b6001600160a01b038116600090815260076020908152604091829020825160608101845281546001600160d01b03811680835262ffffff600160d01b8304811684870152600160e81b909204909116828601528451808601909552600685527f696e73756666000000000000000000000000000000000000000000000000000093850193909352909290916105839184919042611021565b505080518354602083015160409093015162ffffff908116600160e81b027cffffffffffffffffffffffffffffffffffffffffffffffffffffffffff91909416600160d01b027fffffff00000000000000000000000000000000000000000000000000000000009092166001600160d01b03909316929092171716179091555050565b60006106138484846110e5565b90505b9392505050565b6001600160a01b03821660009081526004602052604081208054839290610645908490611f2b565b90915550506002546040517f23b872dd000000000000000000000000000000000000000000000000000000008152336004820152306024820152604481018390526001600160a01b03909116906323b872dd90606401602060405180830381600087803b1580156106b557600080fd5b505af11580156106c9573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906106ed9190611e12565b505050565b8161071d816001600160a01b03166000908152600760205260409020546001600160d01b0316151590565b61076e5760405162461bcd60e51b815260206004820152601460248201527f476175676520646f6573206e6f7420657869737400000000000000000000000060448201526064015b60405180910390fd5b336000908152600460205260408120805484929061078d908490611f2b565b90915550503360009081526005602090815260408083206001600160a01b0387168452909152812080548492906107c5908490612051565b90915550506001600160a01b03831660009081526006602052604081209061082c826107f086611158565b6040518060400160405280600681526020017f696e73756666000000000000000000000000000000000000000000000000000081525042611021565b505080518354602083015160408401516001600160d01b039093167fffffff00000000000000000000000000000000000000000000000000000000009092168217600160d01b62ffffff92831602177cffffffffffffffffffffffffffffffffffffffffffffffffffffffffff16600160e81b91909316029190911784556003549192506001600160a01b0390911690633166193090879033906108d1908990611f2b565b6040517fffffffff0000000000000000000000000000000000000000000000000000000060e086901b1681526001600160a01b0393841660048201529290911660248301526044820152606401600060405180830381600087803b15801561093857600080fd5b505af115801561094c573d6000803e3d6000fd5b505050505050505050565b6001546001600160a01b031633146109b15760405162461bcd60e51b815260206004820152601f60248201527f4f776e61626c652f63616c6c65722d6e6f742d70656e64696e674f776e6572006044820152606401610765565b6001546109c6906001600160a01b03166111db565b6001805473ffffffffffffffffffffffffffffffffffffffff19169055565b6000806109f3858585611238565b90506000610a028686866110e5565b9050670de0b6b3a7640000610a178284611fcc565b610a219190611f89565b9695505050505050565b6001600160a01b038216600090815260076020908152604091829020825160608101845281546001600160d01b03811680835262ffffff600160d01b8304811695840195909552600160e81b909104909316938101939093529190831015610ab157610aa682610a9a85611158565b83516107f09190612009565b50909150610ad99050565b610ad3828260000151610ac386611158565b610acd9190612009565b426112a2565b50909150505b80518254602083015160409093015162ffffff908116600160e81b027cffffffffffffffffffffffffffffffffffffffffffffffffffffffffff91909416600160d01b027fffffff00000000000000000000000000000000000000000000000000000000009092166001600160d01b039093169290921717161790555050565b33610b6c6000546001600160a01b031690565b6001600160a01b031614610bc25760405162461bcd60e51b815260206004820152601860248201527f4f776e61626c652f63616c6c65722d6e6f742d6f776e657200000000000000006044820152606401610765565b610bcc60006111db565b565b6001600160a01b038082166000908152600560209081526040808320938616835292905220545b92915050565b610c0d81670de0b6b3a764000061134b565b50565b6000610613848484611238565b6104e7828261134b565b33610c3a6000546001600160a01b031690565b6001600160a01b031614610c905760405162461bcd60e51b815260206004820152601860248201527f4f776e61626c652f63616c6c65722d6e6f742d6f776e657200000000000000006044820152606401610765565b6001600160a01b038116610ce65760405162461bcd60e51b815260206004820152601f60248201527f47432f47617567655265776172642d6e6f742d7a65726f2d61646472657373006044820152606401610765565b6003805473ffffffffffffffffffffffffffffffffffffffff19166001600160a01b0383169081179091556040519081527fc9436864b28e4bdede75d52a3d281101b91830fd91f9bc698dfde6048a7726609060200160405180910390a150565b33610d5a6000546001600160a01b031690565b6001600160a01b031614610db05760405162461bcd60e51b815260206004820152601860248201527f4f776e61626c652f63616c6c65722d6e6f742d6f776e657200000000000000006044820152606401610765565b6001600160a01b038116610e2c5760405162461bcd60e51b815260206004820152602560248201527f4f776e61626c652f70656e64696e674f776e65722d6e6f742d7a65726f2d616460448201527f64726573730000000000000000000000000000000000000000000000000000006064820152608401610765565b6001805473ffffffffffffffffffffffffffffffffffffffff19166001600160a01b0383169081179091556040517f239a2ddded15777fa246aed5f7e1a9bc69a39d4eb4a397034d1d85766cca7d4c90600090a250565b81610eae816001600160a01b03166000908152600760205260409020546001600160d01b0316151590565b610efa5760405162461bcd60e51b815260206004820152601460248201527f476175676520646f6573206e6f742065786973740000000000000000000000006044820152606401610765565b3360009081526004602052604081208054849290610f19908490612051565b90915550503360009081526005602090815260408083206001600160a01b038716845290915281208054849290610f51908490611f2b565b90915550506001600160a01b038316600090815260066020526040812090610f7c82610acd86611158565b505080518354602083015160408401516001600160d01b039093167fffffff00000000000000000000000000000000000000000000000000000000009092168217600160d01b62ffffff92831602177cffffffffffffffffffffffffffffffffffffffffffffffffffffffffff16600160e81b91909316029190911784556003549192506001600160a01b03909116906395cebcd490879033906108d1908990612051565b604080516060810182526000808252602082018190529181019190915260408051808201909152600080825260208201526040805160608101825287546001600160d01b0380821680845262ffffff600160d01b840481166020860152600160e81b90930490921693830193909352600092879190891611156110b75760405162461bcd60e51b81526004016107659190611e4d565b506110c68860010182876113f5565b8251999099036001600160d01b03168252909990985095505050505050565b6001600160a01b0383166000818152600760208181526040808420815160608101835281546001600160d01b038116825262ffffff600160d01b8204811683870152600160e81b9091041692810192909252948452919052909161114f90600101828686426114dc565b95945050505050565b60006001600160d01b038211156111d75760405162461bcd60e51b815260206004820152602760248201527f53616665436173743a2076616c756520646f65736e27742066697420696e203260448201527f30382062697473000000000000000000000000000000000000000000000000006064820152608401610765565b5090565b600080546001600160a01b0383811673ffffffffffffffffffffffffffffffffffffffff19831681178455604051919092169283917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e09190a35050565b6001600160a01b0383166000818152600660208181526040808420815160608101835281546001600160d01b038116825262ffffff600160d01b8204811683870152600160e81b9091041692810192909252948452919052909161114f90600101828686426114dc565b604080516060810182526000808252602082018190529181019190915260408051808201909152600080825260208201526040805160608101825286546001600160d01b038116825262ffffff600160d01b820481166020840152600160e81b909104169181019190915260009061131e6001880182876113f5565b83519296509094509250611333908790611ec0565b6001600160d01b031684525091959094509092509050565b6001600160a01b03821660009081526007602052604081209061137182610acd85611158565b505080518354602083015160409093015162ffffff908116600160e81b027cffffffffffffffffffffffffffffffffffffffffffffffffffffffffff91909416600160d01b027fffffff00000000000000000000000000000000000000000000000000000000009092166001600160d01b0390931692909217171617909155505050565b604080516060810182526000808252602082018190529181019190915260408051808201909152600080825260208201526000806114338787611514565b9150508463ffffffff16816020015163ffffffff16141561145c578593509150600090506114d3565b60006114768288600001516001600160d01b031688611594565b90508088886020015162ffffff1662ffffff8110611496576114966120c5565b825160209093015163ffffffff16600160e01b026001600160e01b039093169290921791015560006114c78861160f565b95509093506001925050505b93509350939050565b6000808263ffffffff168463ffffffff16116114f857836114fa565b825b90506115098787878487611677565b979650505050505050565b6040805180820190915260008082526020820181905290611543836020015162ffffff1662ffffff8016611713565b9150838262ffffff1662ffffff811061155e5761155e6120c5565b604080518082019091529101546001600160e01b0381168252600160e01b900463ffffffff166020820152919491935090915050565b604080518082019091526000808252602082015260405180604001604052806115d28660200151858663ffffffff166117419092919063ffffffff16565b6115e29063ffffffff1686611f9d565b86516115ee9190611eeb565b6001600160e01b031681526020018363ffffffff1681525090509392505050565b6040805160608101825260008082526020808301829052928201529082015161163f9062ffffff9081169061180b565b62ffffff90811660208401526040830151811610156111d75760018260400181815161166b9190611f0d565b62ffffff169052505090565b6000806000611686888861181b565b915091506000806116978a8a611514565b9150915060006116ad8b8b8487878a8f8e611898565b905060006116c18c8c8588888b8f8f611898565b90506116d6816020015183602001518a611741565b63ffffffff16826000015182600001516116f09190612031565b6116fa9190611f63565b6001600160e01b03169c9b505050505050505050505050565b60008161172257506000610bf5565b61061660016117318486611f2b565b61173b9190612051565b836119e2565b60008163ffffffff168463ffffffff161115801561176b57508163ffffffff168363ffffffff1611155b156117815761177a8385612068565b9050610616565b60008263ffffffff168563ffffffff16116117b0576117ab63ffffffff8616640100000000611f43565b6117b8565b8463ffffffff165b64ffffffffff16905060008363ffffffff168563ffffffff16116117f0576117eb63ffffffff8616640100000000611f43565b6117f8565b8463ffffffff165b64ffffffffff169050610a218183612051565b600061061661173b846001611f2b565b604080518082019091526000808252602082018190529082602001519150838262ffffff1662ffffff8110611852576118526120c5565b604080518082019091529101546001600160e01b0381168252600160e01b900463ffffffff16602082018190529091506118915760009150838261155e565b9250929050565b60408051808201909152600080825260208201526118cb8383896020015163ffffffff166119ee9092919063ffffffff16565b156118ef576118e88789600001516001600160d01b031685611594565b90506119d6565b8263ffffffff16876020015163ffffffff16141561190e5750856119d6565b8263ffffffff16866020015163ffffffff16141561192d5750846119d6565b61194c8660200151838563ffffffff166119ee9092919063ffffffff16565b156119715750604080518082019091526000815263ffffffff831660208201526119d6565b6000806119868b8888888e6040015189611abd565b91509150600061199f8260200151846020015187611741565b63ffffffff16836000015183600001516119b99190612031565b6119c39190611f63565b90506119d0838288611594565b93505050505b98975050505050505050565b60006106168284612085565b60008163ffffffff168463ffffffff1611158015611a1857508163ffffffff168363ffffffff1611155b15611a33578263ffffffff168463ffffffff16109050610616565b60008263ffffffff168563ffffffff1611611a6257611a5d63ffffffff8616640100000000611f43565b611a6a565b8463ffffffff165b64ffffffffff16905060008363ffffffff168563ffffffff1611611aa257611a9d63ffffffff8616640100000000611f43565b611aaa565b8463ffffffff165b64ffffffffff1690911095945050505050565b6040805180820190915260008082526020820152604080518082019091526000808252602082015260008662ffffff1690506000818962ffffff1610611b08578862ffffff16611b23565b6001611b1962ffffff881684611f2b565b611b239190612051565b905060005b6002611b348385611f2b565b611b3e9190611f89565b90508a611b50828962ffffff166119e2565b62ffffff1662ffffff8110611b6757611b676120c5565b604080518082019091529101546001600160e01b0381168252600160e01b900463ffffffff166020820181905290955080611baf57611ba7826001611f2b565b935050611b28565b8b611bbf838a62ffffff1661180b565b62ffffff1662ffffff8110611bd657611bd66120c5565b604080518082019091529101546001600160e01b038116825263ffffffff600160e01b90910481166020830152909550600090611c1b90838116908c908b90611c8a16565b9050808015611c445750611c448660200151898c63ffffffff16611c8a9092919063ffffffff16565b15611c50575050611c7c565b80611c6757611c60600184612051565b9350611c75565b611c72836001611f2b565b94505b5050611b28565b505050965096945050505050565b60008163ffffffff168463ffffffff1611158015611cb457508163ffffffff168363ffffffff1611155b15611cd0578263ffffffff168463ffffffff1611159050610616565b60008263ffffffff168563ffffffff1611611cff57611cfa63ffffffff8616640100000000611f43565b611d07565b8463ffffffff165b64ffffffffff16905060008363ffffffff168563ffffffff1611611d3f57611d3a63ffffffff8616640100000000611f43565b611d47565b8463ffffffff165b64ffffffffff169091111595945050505050565b600060208284031215611d6d57600080fd5b8135610616816120db565b60008060408385031215611d8b57600080fd5b8235611d96816120db565b91506020830135611da6816120db565b809150509250929050565b60008060408385031215611dc457600080fd5b8235611dcf816120db565b946020939093013593505050565b600080600060608486031215611df257600080fd5b8335611dfd816120db565b95602085013595506040909401359392505050565b600060208284031215611e2457600080fd5b8151801515811461061657600080fd5b600060208284031215611e4657600080fd5b5035919050565b600060208083528351808285015260005b81811015611e7a57858101830151858201604001528201611e5e565b81811115611e8c576000604083870101525b50601f017fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe016929092016040019392505050565b60006001600160d01b03808316818516808303821115611ee257611ee2612099565b01949350505050565b60006001600160e01b03808316818516808303821115611ee257611ee2612099565b600062ffffff808316818516808303821115611ee257611ee2612099565b60008219821115611f3e57611f3e612099565b500190565b600064ffffffffff808316818516808303821115611ee257611ee2612099565b60006001600160e01b0380841680611f7d57611f7d6120af565b92169190910492915050565b600082611f9857611f986120af565b500490565b60006001600160e01b0380831681851681830481118215151615611fc357611fc3612099565b02949350505050565b6000817fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff048311821515161561200457612004612099565b500290565b60006001600160d01b038381169083168181101561202957612029612099565b039392505050565b60006001600160e01b038381169083168181101561202957612029612099565b60008282101561206357612063612099565b500390565b600063ffffffff8381169083168181101561202957612029612099565b600082612094576120946120af565b500690565b634e487b7160e01b600052601160045260246000fd5b634e487b7160e01b600052601260045260246000fd5b634e487b7160e01b600052603260045260246000fd5b6001600160a01b0381168114610c0d57600080fdfea264697066735822122058ff36e3f2f2e1290facb6217e9444fc3bff4c3db7f87b4a2582b42a8f30cc6064736f6c63430008060033",
  "devdoc": {
    "events": {
      "Deployed(address)": {
        "params": {
          "token": "Address of the token being staked in the gauge"
        }
      },
      "GaugeRewardSet(address)": {
        "params": {
          "gaugeReward": "Address of the newly set GaugeReward contract"
        }
      }
    },
    "kind": "dev",
    "methods": {
      "claimOwnership()": {
        "details": "This function is only callable by the `_pendingOwner`."
      },
      "constructor": {
        "params": {
          "_owner": "Address of the contract owner",
          "_token": "Address of the token being staked in the gauge"
        }
      },
      "getGaugeBalance(address)": {
        "params": {
          "_gauge": "Address of the gauge to get balance for"
        },
        "returns": {
          "_0": "The gauge balance"
        }
      },
      "getGaugeScaleBalance(address)": {
        "params": {
          "_gauge": "Address of the gauge to get scale balance for"
        },
        "returns": {
          "_0": "The gauge scale balance"
        }
      },
      "getScaledAverageGaugeBetween(address,uint256,uint256)": {
        "params": {
          "_endTime": "End timestamp at which to get the average scaled balance",
          "_gauge": "Address of the gauge to get the average scaled balance for",
          "_startTime": "Start timestamp at which to get the average scaled balance"
        },
        "returns": {
          "_0": "The gauge scaled average balance between the two timestamps"
        }
      },
      "getUserGaugeBalance(address,address)": {
        "params": {
          "_gauge": "Address of the gauge to get stake balance for",
          "_user": "Address of the user to get stake balance for"
        },
        "returns": {
          "_0": "The user gauge balance"
        }
      },
      "pendingOwner()": {
        "returns": {
          "_0": "Current `_pendingOwner` address."
        }
      },
      "renounceOwnership()": {
        "details": "Leaves the contract without owner. It will not be possible to call `onlyOwner` functions anymore. Can only be called by the current owner. NOTE: Renouncing ownership will leave the contract without an owner, thereby removing any functionality that is only available to the owner."
      },
      "setGaugeReward(address)": {
        "params": {
          "_gaugeReward": "Address of the GaugeReward contract"
        }
      },
      "transferOwnership(address)": {
        "params": {
          "_newOwner": "Address to transfer ownership to."
        }
      }
    },
    "stateVariables": {
      "balances": {
        "details": "user => balance"
      },
      "gaugeScaleTwabs": {
        "details": "gauge => scale voting power"
      },
      "gaugeTwabs": {
        "details": "gauge => voting power"
      },
      "userGaugeBalance": {
        "details": "user => gauge => balance"
      }
    },
    "version": 1
  },
  "userdoc": {
    "events": {
      "Deployed(address)": {
        "notice": "Event emitted when the contract is deployed"
      },
      "GaugeRewardSet(address)": {
        "notice": "Event emitted when the GaugeReward contract address is set"
      }
    },
    "kind": "user",
    "methods": {
      "balances(address)": {
        "notice": "Tracks user deposit balance"
      },
      "claimOwnership()": {
        "notice": "Allows the `_pendingOwner` address to finalize the transfer."
      },
      "constructor": {
        "notice": "GaugeController constructor"
      },
      "getGaugeBalance(address)": {
        "notice": "Get the gauge balance"
      },
      "getGaugeScaleBalance(address)": {
        "notice": "Get the gauge scale balance"
      },
      "getScaledAverageGaugeBetween(address,uint256,uint256)": {
        "notice": "Get the gauge scaled average balance between two timestamps."
      },
      "getUserGaugeBalance(address,address)": {
        "notice": "Get the user stake balance for a given gauge"
      },
      "owner()": {
        "notice": "Returns the address of the current owner."
      },
      "pendingOwner()": {
        "notice": "Gets current `_pendingOwner`."
      },
      "renounceOwnership()": {
        "notice": "Renounce ownership of the contract."
      },
      "setGaugeReward(address)": {
        "notice": "Set GaugeReward contract"
      },
      "transferOwnership(address)": {
        "notice": "Allows current owner to set the `_pendingOwner` address."
      },
      "userGaugeBalance(address,address)": {
        "notice": "Tracks user balance per gauge"
      }
    },
    "version": 1
  },
  "storageLayout": {
    "storage": [
      {
        "astId": 4303,
        "contract": "contracts/GaugeController.sol:GaugeController",
        "label": "_owner",
        "offset": 0,
        "slot": "0",
        "type": "t_address"
      },
      {
        "astId": 4305,
        "contract": "contracts/GaugeController.sol:GaugeController",
        "label": "_pendingOwner",
        "offset": 0,
        "slot": "1",
        "type": "t_address"
      },
      {
        "astId": 14600,
        "contract": "contracts/GaugeController.sol:GaugeController",
        "label": "token",
        "offset": 0,
        "slot": "2",
        "type": "t_contract(IERC20)663"
      },
      {
        "astId": 14603,
        "contract": "contracts/GaugeController.sol:GaugeController",
        "label": "gaugeReward",
        "offset": 0,
        "slot": "3",
        "type": "t_contract(IGaugeReward)20479"
      },
      {
        "astId": 14608,
        "contract": "contracts/GaugeController.sol:GaugeController",
        "label": "balances",
        "offset": 0,
        "slot": "4",
        "type": "t_mapping(t_address,t_uint256)"
      },
      {
        "astId": 14615,
        "contract": "contracts/GaugeController.sol:GaugeController",
        "label": "userGaugeBalance",
        "offset": 0,
        "slot": "5",
        "type": "t_mapping(t_address,t_mapping(t_address,t_uint256))"
      },
      {
        "astId": 14621,
        "contract": "contracts/GaugeController.sol:GaugeController",
        "label": "gaugeTwabs",
        "offset": 0,
        "slot": "6",
        "type": "t_mapping(t_address,t_struct(Account)22529_storage)"
      },
      {
        "astId": 14627,
        "contract": "contracts/GaugeController.sol:GaugeController",
        "label": "gaugeScaleTwabs",
        "offset": 0,
        "slot": "7",
        "type": "t_mapping(t_address,t_struct(Account)22529_storage)"
      }
    ],
    "types": {
      "t_address": {
        "encoding": "inplace",
        "label": "address",
        "numberOfBytes": "20"
      },
      "t_array(t_struct(Observation)22101_storage)16777215_storage": {
        "base": "t_struct(Observation)22101_storage",
        "encoding": "inplace",
        "label": "struct ObservationLib.Observation[16777215]",
        "numberOfBytes": "536870880"
      },
      "t_contract(IERC20)663": {
        "encoding": "inplace",
        "label": "contract IERC20",
        "numberOfBytes": "20"
      },
      "t_contract(IGaugeReward)20479": {
        "encoding": "inplace",
        "label": "contract IGaugeReward",
        "numberOfBytes": "20"
      },
      "t_mapping(t_address,t_mapping(t_address,t_uint256))": {
        "encoding": "mapping",
        "key": "t_address",
        "label": "mapping(address => mapping(address => uint256))",
        "numberOfBytes": "32",
        "value": "t_mapping(t_address,t_uint256)"
      },
      "t_mapping(t_address,t_struct(Account)22529_storage)": {
        "encoding": "mapping",
        "key": "t_address",
        "label": "mapping(address => struct TwabLib.Account)",
        "numberOfBytes": "32",
        "value": "t_struct(Account)22529_storage"
      },
      "t_mapping(t_address,t_uint256)": {
        "encoding": "mapping",
        "key": "t_address",
        "label": "mapping(address => uint256)",
        "numberOfBytes": "32",
        "value": "t_uint256"
      },
      "t_struct(Account)22529_storage": {
        "encoding": "inplace",
        "label": "struct TwabLib.Account",
        "members": [
          {
            "astId": 22523,
            "contract": "contracts/GaugeController.sol:GaugeController",
            "label": "details",
            "offset": 0,
            "slot": "0",
            "type": "t_struct(AccountDetails)22520_storage"
          },
          {
            "astId": 22528,
            "contract": "contracts/GaugeController.sol:GaugeController",
            "label": "twabs",
            "offset": 0,
            "slot": "1",
            "type": "t_array(t_struct(Observation)22101_storage)16777215_storage"
          }
        ],
        "numberOfBytes": "536870912"
      },
      "t_struct(AccountDetails)22520_storage": {
        "encoding": "inplace",
        "label": "struct TwabLib.AccountDetails",
        "members": [
          {
            "astId": 22515,
            "contract": "contracts/GaugeController.sol:GaugeController",
            "label": "balance",
            "offset": 0,
            "slot": "0",
            "type": "t_uint208"
          },
          {
            "astId": 22517,
            "contract": "contracts/GaugeController.sol:GaugeController",
            "label": "nextTwabIndex",
            "offset": 26,
            "slot": "0",
            "type": "t_uint24"
          },
          {
            "astId": 22519,
            "contract": "contracts/GaugeController.sol:GaugeController",
            "label": "cardinality",
            "offset": 29,
            "slot": "0",
            "type": "t_uint24"
          }
        ],
        "numberOfBytes": "32"
      },
      "t_struct(Observation)22101_storage": {
        "encoding": "inplace",
        "label": "struct ObservationLib.Observation",
        "members": [
          {
            "astId": 22098,
            "contract": "contracts/GaugeController.sol:GaugeController",
            "label": "amount",
            "offset": 0,
            "slot": "0",
            "type": "t_uint224"
          },
          {
            "astId": 22100,
            "contract": "contracts/GaugeController.sol:GaugeController",
            "label": "timestamp",
            "offset": 28,
            "slot": "0",
            "type": "t_uint32"
          }
        ],
        "numberOfBytes": "32"
      },
      "t_uint208": {
        "encoding": "inplace",
        "label": "uint208",
        "numberOfBytes": "26"
      },
      "t_uint224": {
        "encoding": "inplace",
        "label": "uint224",
        "numberOfBytes": "28"
      },
      "t_uint24": {
        "encoding": "inplace",
        "label": "uint24",
        "numberOfBytes": "3"
      },
      "t_uint256": {
        "encoding": "inplace",
        "label": "uint256",
        "numberOfBytes": "32"
      },
      "t_uint32": {
        "encoding": "inplace",
        "label": "uint32",
        "numberOfBytes": "4"
      }
    }
  }
}